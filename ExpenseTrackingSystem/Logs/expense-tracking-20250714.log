[2025-07-14 12:42:31.690 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.794 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.941 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/GenSpark-Training/CapstoneProject/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.654 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.708 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.780 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 84.4694 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000001","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.803 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 150.8765ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.824 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.793 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.796 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 1.9065 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000002","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.797 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 4.4147ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.798 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:41.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:42.140 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 210.5070 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000003","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:42.141 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 212.8307ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.742 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.750 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.761 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.785 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.957 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.961 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:00.896 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.026 +05:30 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database '' on server 'tcp://localhost port=5432 dbname=ExpenseDatabase user=postgres password=magratna1970* connect_timeout=10 sslmode=prefer:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.044 +05:30 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ExpenseTrackingSystem.Contexts.ExpenseContext'.
System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): nodename nor servname provided, or not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.046 +05:30 ERR] ExpenseTrackingSystem.Controllers.AuthController: Unexpected error during login for user testuser@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.052 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.057 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 1267.0204ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.058 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.060 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 400 in 1312.9915 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000004","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.069 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null text/plain; charset=utf-8 1326.4928ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.988 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 67 {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.991 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.991 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.992 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.997 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testadmin@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.998 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testadmin@example.com {"RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.024 +05:30 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database '' on server 'tcp://localhost port=5432 dbname=ExpenseDatabase user=postgres password=magratna1970* connect_timeout=10 sslmode=prefer:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.027 +05:30 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ExpenseTrackingSystem.Contexts.ExpenseContext'.
System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): nodename nor servname provided, or not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.028 +05:30 ERR] ExpenseTrackingSystem.Controllers.AuthController: Unexpected error during login for user testadmin@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.030 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.031 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 38.4513ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.032 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.032 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 400 in 41.8120 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":67,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000005","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.033 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null text/plain; charset=utf-8 45.2628ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:16.222 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.131 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.218 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.302 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/GenSpark-Training/CapstoneProject/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.627 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.739 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 82.2954 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000001","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.754 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 128.3258ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.806 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.998 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 189.8071 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000002","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.998 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.6866ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.017 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 66 {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.024 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.026 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.074 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.095 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.257 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.261 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.141 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.463 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (59ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.991 +05:30 WRN] ExpenseTrackingSystem.Services.AuthenticationService: Login failed: Invalid password for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.993 +05:30 WRN] ExpenseTrackingSystem.Controllers.AuthController: Login failed for user testuser@example.com - invalid password: Invalid password {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.999 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.005 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 1905.4373ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.006 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.008 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 401 in 1987.9504 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":66,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000003","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.016 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null text/plain; charset=utf-8 1999.3197ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.961 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.964 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.966 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.971 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.971 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.994 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.453 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.463 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T07:16:47.3416650+00:00" {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.464 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.465 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.471 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 502.7367ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.471 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.472 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 508.0169 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000004","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.473 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 511.4656ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.536 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.594 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.601 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.618 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user testuser@example.com (Page: 1, Size: 10) {"TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.621 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 10) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.734 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.758 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 10 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.760 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.761 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 10 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.764 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.765 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.766 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.766 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.767 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 10 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.768 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.807 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 205.8808ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.808 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.808 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 270.9605 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KPCC5K3L:00000005","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.809 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 273.0935ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:16.120 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:32.762 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:32.902 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.006 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.008 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.009 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.009 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.504 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.580 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.648 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 89.3555 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBR:00000001","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.669 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 167.9838ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.619 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.826 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 205.2968 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBR:00000002","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.827 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.2257ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.450 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.533 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.561 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.752 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user testuser@example.com (Page: 1, Size: 10) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.756 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 10) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:08.989 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.190 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 10 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.191 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.192 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 10 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.192 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.193 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.194 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.194 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.195 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.195 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.198 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 10 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.207 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.257 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 1691.5958ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.258 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.261 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 1806.8527 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBR:00000003","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.274 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 1823.7744ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.473 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.480 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllReceipts", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Receipt]]] GetAllReceipts(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.495 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt search with criteria: Name=null, Category=null, DateRange=None {"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.578 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
ORDER BY r."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.583 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Search completed, returning 6 receipts out of 6 total {"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.584 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.Receipt, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem) in 97.5624ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.588 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.589 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/all responded 200 in 113.0394 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBR:00000004","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 116.1151ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.031 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.037 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.043 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.053 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.198 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.201 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.203 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.204 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 160.377ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.205 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.205 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 170.4390 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBS:00000001","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.206 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 174.8203ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.402 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.405 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.407 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 3.1835 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000001","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.408 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 6.4446ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.410 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.411 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.415 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.415 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.417 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.420 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.421 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 401 in 9.7195 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000002","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.423 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 401 0 null 12.7075ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.557 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.558 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.559 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/ponmalar@gmail.com responded 204 in 1.0872 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000003","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.561 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/ponmalar@gmail.com - 204 null null 3.6083ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.564 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/ponmalar@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.568 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.570 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.570 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.571 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.572 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.577 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/ponmalar@gmail.com responded 401 in 8.9544 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000004","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.579 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/ponmalar@gmail.com - 401 0 null 14.7743ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.524 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.525 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.9535 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000005","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 2.9855ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.533 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.535 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.536 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.537 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.537 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.538 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 401 in 5.0239 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000006","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.539 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 401 0 null 8.8272ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.686 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.688 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.688 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.8097 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000007","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.689 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.9949ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.692 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.694 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.695 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.701 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.725 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.728 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.772 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.828 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.321 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.331 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T07:27:03.1992940+00:00" {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.332 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.333 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.335 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 633.3138ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.337 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.337 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 643.2518 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":61,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000008","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.338 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 646.371ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.413 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.414 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.415 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5120 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000009","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.8247ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.417 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.421 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.423 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.425 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.425 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.426 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.6610 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000001","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.429 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.8741ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.430 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.438 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.439 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.439 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.441 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.443 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.447 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.451 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.454 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.460 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.510 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.545 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.547 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.559 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.559 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.560 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.561 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.564 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.565 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.568 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.569 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.570 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.574 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.576 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.576 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 4 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.577 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.578 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 4 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.579 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.581 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 133.7565ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.582 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.583 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 143.4589 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000002","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.583 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 151.9135ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.584 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 145.6466ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.585 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.587 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 165.1746 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.588 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 171.1076ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.842 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.844 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.844 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7258 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.845 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.5848ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.848 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.849 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.850 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.852 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.853 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.860 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.862 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.863 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.864 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.864 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.866 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.867 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.867 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.868 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.869 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.869 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.871 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.875 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 23.6618ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.877 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.878 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 29.2209 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 30.9921ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.097 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.097 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.098 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.5869 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.099 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 2.154ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.101 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.103 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.104 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.109 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.159 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.164 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.165 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.173 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 63.1996ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.175 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.176 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 73.4450 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.177 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 75.4956ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.193 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.194 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.195 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 204 in 0.7970 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 204 null null 3.9693ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.202 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.203 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.205 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.212 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.218 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.221 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.222 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.224 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 14.1219ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.227 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.228 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 25.0101 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000010","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.229 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 27.4384ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.247 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.249 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.249 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.8290 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000011","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.251 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.9674ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.252 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.254 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.254 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.256 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8939 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000003","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.257 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 2.6276ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.259 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.259 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.262 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.263 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.265 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.266 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.268 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.269 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.271 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.302 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.303 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.305 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.310 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.313 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.314 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.315 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 4 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.317 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 4 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.318 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.319 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 62.2376ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.319 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.320 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 66.1194 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000012","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.321 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 68.8635ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.344 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.349 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.350 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.350 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.353 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.355 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.357 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.357 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.358 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.358 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.359 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 92.6295ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.360 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.360 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 97.2696 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000004","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.362 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 103.2208ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.818 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.819 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.3043 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000013","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.829 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 12.7562ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.831 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.832 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.833 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.834 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.835 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.836 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.840 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.842 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.843 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.843 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.844 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.844 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.845 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.845 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.848 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.853 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 18.6349ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.855 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.856 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 23.1995 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000014","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.857 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 25.3204ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.918 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.926 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.931 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 19.7778 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000015","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.6105 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000005","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.963 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 19.6741 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBV:00000001","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.963 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 55.0998ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.964 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 45.2379ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.982 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 51.4873ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.983 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.983 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.986 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.986 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.987 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.987 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.988 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.991 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.992 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.993 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.995 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.999 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.000 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.000 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.007 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.008 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.009 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.010 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.010 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.014 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.016 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.016 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.019 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.019 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.020 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.020 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.021 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.023 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.024 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.025 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.025 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.2101ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.026 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.0045ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.026 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.027 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.027 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 41.3363 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBV:00000002","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.029 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 44.5202 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000016","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.030 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 44.9217ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.031 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 47.9446ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.051 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.054 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.055 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.056 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.058 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.059 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.060 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.065 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.067 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.068 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.072 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 70.3064ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.073 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.073 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 88.3007 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000006","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.074 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 91.4334ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.799 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.800 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.801 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.801 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.803 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.808 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.810 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.811 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.812 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.813 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.815 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.816 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.817 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.818 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.820 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.821 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.823 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.829 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 26.7952ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.831 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.833 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 33.1720 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000017","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.837 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 37.917ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.599 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.600 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.601 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.5376 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000018","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.601 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 1.9089ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.603 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.604 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.605 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.606 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.609 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.611 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.612 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.613 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 6.2375ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.614 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.615 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 11.1134 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000019","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.616 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 12.9721ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.643 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.644 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.645 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 204 in 0.8852 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.646 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 204 null null 3.1473ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.649 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.651 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.652 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.652 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.653 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.655 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.657 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 5.7851ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.659 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.659 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 8.8654 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 11.2796ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.602 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.603 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.604 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.6855 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.605 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - 204 null null 3.0161ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.608 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - multipart/form-data; boundary=----WebKitFormBoundaryhFrBhLY6JjQV3xEK 15425 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.609 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.610 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.619 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.653 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.668 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.674 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.676 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.678 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.682 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.686 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971", performing delete and recreate {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.688 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.697 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.699 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" 'testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.700 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p9='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.734 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.769 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.776 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" 'testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt' and its physical file {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.780 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.786 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.794 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.820 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.822 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.824 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.825 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.826 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-0d16-7f69-8931-fa23dfaf0a40" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.828 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.829 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.831 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.837 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.840 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.841 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.842 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com, new amount: 100, new date: 2025-07-03 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.844 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.845 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 225.119ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.845 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.846 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 236.5288 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15425,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.848 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - 200 null application/json; charset=utf-8 239.6006ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.860 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.861 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.862 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5149 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.862 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.9676ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.864 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.865 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.865 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.866 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.868 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.869 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.871 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.874 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.875 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.875 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.876 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.877 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.877 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.879 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.879 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.880 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.881 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.882 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.883 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 15.6515ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.884 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.886 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 21.7317 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.887 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 23.1016ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.097 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.098 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.099 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.6916 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000020","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.100 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 2.6391ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.103 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.104 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.105 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.105 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.118 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.120 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.121 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.122 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 15.7079ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.122 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.124 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 19.7201 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000021","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.125 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 21.6333ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.147 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.147 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.148 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 responded 204 in 0.6561 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000022","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.149 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - 204 null null 2.5773ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.151 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.154 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.155 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.156 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.168 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.173 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.176 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully retrieved receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' (14700 bytes) for user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.179 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Serving receipt preview testuser@example (14700 bytes) with content-type application/octet-stream {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.182 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing FileContentResult, sending file with download name '' ... {"EventId":{"Id":2,"Name":"ExecutingFileResultWithNoFileName"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.191 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 36.045ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.192 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.195 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 responded 200 in 41.5929 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":14700,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000023","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - 200 14700 application/octet-stream 46.0355ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.918 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.919 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.920 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 204 in 0.7115 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000024","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.920 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 204 null null 2.5877ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.923 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - multipart/form-data; boundary=----WebKitFormBoundarySZLrUBM8hYvAFVcE 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.924 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.926 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.926 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.928 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.931 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.933 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.935 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.936 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.937 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.939 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.940 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633", performing delete and recreate {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.942 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.949 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.951 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.951 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt.pdf {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.969 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.972 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.975 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' and its physical file {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.976 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.978 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.982 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.990 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.993 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.996 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.998 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example' for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.999 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.029 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.031 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example' {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.032 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.034 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.036 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.037 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.038 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com, new amount: 399, new date: 2025-06-28 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.038 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.039 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 112.807ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.041 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.042 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 200 in 117.3314 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000025","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.043 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 200 null application/json; charset=utf-8 120.2573ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.054 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.055 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.055 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.4664 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000026","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.056 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.8502ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.059 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.061 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.061 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.062 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.064 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.069 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.071 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.072 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.073 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.074 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.074 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.075 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.075 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.076 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.078 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.079 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.080 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.082 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 20.4207ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.084 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.085 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 26.7300 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000027","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.086 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 28.1287ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.587 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.589 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.590 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 204 in 1.0373 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000028","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.594 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 204 null null 7.371ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.608 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - multipart/form-data; boundary=----WebKitFormBoundary5t2efrcPluIjQFYh 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.614 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.619 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.621 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.637 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.649 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.651 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.669 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.670 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.671 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.674 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.676 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482", performing delete and recreate {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.676 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.679 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.679 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.682 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted physical receipt file: /Users/aditirajesh/Desktop/CapstoneProject-ETS/Receipts/testuser@example.pdf {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.685 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8;
UPDATE "Receipts" SET "ReceiptName" = @p9
WHERE "Id" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.688 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.719 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' and its physical file {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.720 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.722 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.725 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.728 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.730 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.733 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.734 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-5706-7db8-ad03-bf5d98935bd8" 'testuser@example' for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.734 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-5706-7db8-ad03-bf5d98935bd8" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.736 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.738 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-5706-7db8-ad03-bf5d98935bd8" 'testuser@example' {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.738 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.750 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.768 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.769 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.769 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com, new amount: 399, new date: 2025-06-28 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.770 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.771 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 146.6506ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.771 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.772 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 200 in 158.1861 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000029","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.773 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 200 null application/json; charset=utf-8 164.9505ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.784 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.785 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.786 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5097 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.787 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.2997ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.789 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.790 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.791 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.792 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.794 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.796 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.801 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.804 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.804 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.805 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.805 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.806 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.808 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.810 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.811 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.812 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 19.2283ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.814 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.815 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 25.4576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 27.2951ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.176 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.177 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.178 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba responded 204 in 0.8805 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.178 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - 204 null null 2.756ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.182 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.183 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.184 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.184 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.198 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "01976811-76bc-74fd-a574-78c76d5f52ba" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.200 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.200 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 15.1977ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.202 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.202 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba responded 200 in 19.1290 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.204 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - 200 null application/json; charset=utf-8 22.4689ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.219 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.220 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.221 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb responded 204 in 0.7767 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.223 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - 204 null null 3.6122ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.225 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.226 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.227 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.228 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.230 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.258 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.259 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt.pdf for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.259 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.260 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 30.3458ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.260 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.261 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb responded 404 in 34.4552 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.261 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - 404 null text/plain; charset=utf-8 35.9308ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.672 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.674 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba responded 204 in 0.6891 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000030","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.677 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - 204 null null 5.2029ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.682 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - multipart/form-data; boundary=----WebKitFormBoundaryNdfntumPyBiGRlHI 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.684 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.686 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.691 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.700 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.702 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.708 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "01976811-76bc-74fd-a574-78c76d5f52ba" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.710 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.716 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.717 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb", performing delete and recreate {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.718 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.730 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.731 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" 'testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.732 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt.pdf {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.749 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.752 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.754 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.755 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" 'testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt' and its physical file {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.756 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.758 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.762 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.766 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.779 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.798 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.800 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-860c-7681-aeb9-4799577f7961" 'testuser@example' for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.800 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-860c-7681-aeb9-4799577f7961" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.802 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.803 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-860c-7681-aeb9-4799577f7961" 'testuser@example' {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "01976811-76bc-74fd-a574-78c76d5f52ba" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.805 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.808 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.808 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com, new amount: 5000, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.809 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.811 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 121.3435ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.812 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.813 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba responded 200 in 128.6857 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000031","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.814 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - 200 null application/json; charset=utf-8 131.8173ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.832 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.0151 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000032","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.833 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.6636ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.835 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.837 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.838 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.840 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.842 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.843 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.850 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.851 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.852 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.854 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.854 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.857 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.858 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.859 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.859 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.860 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.865 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 24.1491ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.866 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.868 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 31.2543 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000033","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.870 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 34.7639ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.812 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.813 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.814 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b responded 204 in 0.8596 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000034","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.815 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - 204 null null 2.7148ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - multipart/form-data; boundary=----WebKitFormBoundaryK1ebGxA1DMPb4s4G 15444 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.819 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.820 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.821 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.822 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.825 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.827 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.829 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.829 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "019767db-89d3-7750-82b5-16484d1d537b" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.830 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197ca8d-6949-7db7-893e-99d2787929b2" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197ca8d-6949-7db7-893e-99d2787929b2", performing delete and recreate {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197ca8d-6949-7db7-893e-99d2787929b2" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.851 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.852 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197ca8d-6949-7db7-893e-99d2787929b2" 'testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.852 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt.pdf {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.855 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p9='?' (DbType = Guid), @p7='?', @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "Notes" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.858 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.860 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.862 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197ca8d-6949-7db7-893e-99d2787929b2" 'testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt' and its physical file {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.863 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.865 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.870 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.876 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.879 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.899 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-a5b8-7f53-a232-a21d1b23ab18" 'testuser@example' for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.900 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-a5b8-7f53-a232-a21d1b23ab18" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.903 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-a5b8-7f53-a232-a21d1b23ab18" 'testuser@example' {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.904 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "019767db-89d3-7750-82b5-16484d1d537b" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.905 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.907 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.909 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.909 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com, new amount: 600, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.910 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.911 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 89.1014ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.911 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.912 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b responded 200 in 93.1030 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15444,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000035","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.912 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - 200 null application/json; charset=utf-8 95.1478ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.929 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.929 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.6551 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000036","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.930 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.4933ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.932 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.934 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.935 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.935 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.937 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.948 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.949 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.952 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.953 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.954 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.955 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.956 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.957 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.959 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 22.9348ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.961 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.962 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 27.9014 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000037","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.962 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 29.909ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.796 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.798 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.799 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 responded 204 in 0.6523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000038","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.800 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - 204 null null 3.7974ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.804 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - multipart/form-data; boundary=----WebKitFormBoundaryWHqOV0iGMm9o7VBF 15448 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.805 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.806 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.809 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.811 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.814 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.818 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.830 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.831 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "019767b6-d994-7e0b-aa04-9f39255b3884" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.832 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197c965-c922-764a-9fcb-f88f6ef38642" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197c965-c922-764a-9fcb-f88f6ef38642", performing delete and recreate {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.850 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197c965-c922-764a-9fcb-f88f6ef38642" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.851 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.852 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197c965-c922-764a-9fcb-f88f6ef38642" 'testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.855 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt.pdf {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.858 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.862 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.864 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.866 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197c965-c922-764a-9fcb-f88f6ef38642" 'testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt' and its physical file {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.867 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.879 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.904 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.906 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.908 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.908 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-c12d-767e-8f62-6385633cdc15" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.910 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.911 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.912 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "019767b6-d994-7e0b-aa04-9f39255b3884" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.914 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.919 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.920 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.921 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com, new amount: 1000, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.922 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.923 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 113.0844ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.924 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.925 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 responded 200 in 120.1576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15448,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000039","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.926 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - 200 null application/json; charset=utf-8 122.4117ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.939 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.940 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.941 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.1812 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.942 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.7688ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.945 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.947 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.948 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.950 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.952 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.956 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.958 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.959 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.960 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.962 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.964 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.965 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.966 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.968 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.969 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.972 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.989 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.995 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 44.2857ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.996 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.997 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 49.8579 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.997 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 52.0253ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.818 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.819 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884 responded 204 in 0.5539 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.820 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - 204 null null 2.0249ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.831 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.832 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.849 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "019767b6-d994-7e0b-aa04-9f39255b3884" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.850 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 18.5578ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.852 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.852 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884 responded 200 in 21.9139 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.854 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - 200 null application/json; charset=utf-8 24.6466ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.863 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.864 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.865 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 responded 204 in 0.9757 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.866 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - 204 null null 3.2642ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.868 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.871 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.872 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.872 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.874 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "019807d5-c12d-767e-8f62-6385633cdc15" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.881 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.899 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully retrieved receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' (14700 bytes) for user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.899 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Serving receipt preview testuser@example (14700 bytes) with content-type application/octet-stream {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.900 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing FileContentResult, sending file with download name '' ... {"EventId":{"Id":2,"Name":"ExecutingFileResultWithNoFileName"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.901 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 26.9838ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.901 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.902 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 responded 200 in 31.5709 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":14700,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.906 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - 200 14700 application/octet-stream 37.6541ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.446 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.447 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.447 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.4402 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000040","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.448 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 1.6909ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.450 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.451 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.452 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.453 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.455 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.456 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.462 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.480 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.481 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.482 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.484 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.485 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.486 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.488 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 34.9695ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.490 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.491 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 40.0451 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000041","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 43.1931ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.498 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.498 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.499 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.499 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.500 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.3064 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC0:00000001","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.500 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.0190 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC1:00000001","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.501 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 3.8741ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.502 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 4.5028ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.505 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.506 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.507 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.508 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.510 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.512 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.513 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.514 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.515 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.516 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.516 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.530 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.530 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.533 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.533 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.534 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.534 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.535 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.538 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.539 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.540 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.544 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.549 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.3277ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.550 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 41.2526ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.550 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.551 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.552 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 38.5609 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC0:00000002","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.552 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 45.7074 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000042","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.553 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 40.6286ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.554 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 48.2165ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.335 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.336 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.336 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/testuser@example.com responded 204 in 0.4545 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000043","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.337 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testuser@example.com - 204 null null 1.7368ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.339 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.339 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.340 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.346 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.350 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for testuser@example.com by testuser@example.com from IP ::1 {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.354 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"testuser@example.com","RequestingUser":"testuser@example.com","ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.357 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user testuser@example.com for testuser@example.com {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.358 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.359 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 11.9728ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.360 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.361 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/testuser@example.com responded 200 in 21.7775 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000044","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.362 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/testuser@example.com - 200 null application/json; charset=utf-8 23.3363ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.301 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.302 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.303 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.7522 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000001","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.304 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.9142ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.306 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.308 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.309 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.310 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.312 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testadmin@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.314 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testadmin@example.com {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.334 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.590 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testadmin@example.com with role Admin, token expires: "2025-07-21T07:29:25.5895170+00:00" {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testadmin@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.592 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 281.4034ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.592 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.593 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 285.2457 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000002","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.593 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 287.4531ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.635 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.636 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.637 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.5945 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000003","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.637 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 1.8781ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.639 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.640 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.641 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.645 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.649 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin testadmin@example.com from IP ::1 {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.685 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 12 users from repository {"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.686 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 12 users for admin testadmin@example.com {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 40.6284ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 48.8119 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000004","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.689 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 50.0524ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.196 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/delete/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.197 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.198 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/delete/ponmalar@gmail.com responded 204 in 0.4523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000005","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.198 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/delete/ponmalar@gmail.com - 204 null null 2.4492ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.200 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 DELETE http://localhost:5295/api/users/delete/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.201 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.203 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] DeleteUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.212 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User deletion request for ponmalar@gmail.com by admin testadmin@example.com from IP ::1 {"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.215 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Starting user deletion for ponmalar@gmail.com by testadmin@example.com {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.235 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.236 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Deleting user ponmalar@gmail.com with 1 expenses and 0 receipts {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.238 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.241 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.242 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully soft deleted user ponmalar@gmail.com by testadmin@example.com, 1 expenses and 0 receipts will be cascade deleted {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.243 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully deleted user ponmalar@gmail.com by admin testadmin@example.com {"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem) in 35.4004ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.245 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.245 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP DELETE /api/users/delete/ponmalar@gmail.com responded 200 in 44.3938 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000006","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.246 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 DELETE http://localhost:5295/api/users/delete/ponmalar@gmail.com - 200 null application/json; charset=utf-8 45.6467ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.599 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testadmin@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.602 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.603 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/testadmin@example.com responded 204 in 1.1803 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000007","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.606 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testadmin@example.com - 204 null null 7.9299ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.609 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/testadmin@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.610 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.611 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.611 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.613 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for testadmin@example.com by testadmin@example.com from IP ::1 {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.615 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"testadmin@example.com","RequestingUser":"testadmin@example.com","ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.616 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user testadmin@example.com for testadmin@example.com {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.618 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.618 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 6.1792ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.619 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.619 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/testadmin@example.com responded 200 in 9.6318 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000008","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.620 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/testadmin@example.com - 200 null application/json; charset=utf-8 11.1445ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.890 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.891 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.892 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.6845 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000009","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.893 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 2.4383ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.895 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.896 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.898 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.899 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.901 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin testadmin@example.com from IP ::1 {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.914 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.915 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 11 users from repository {"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.917 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 11 users for admin testadmin@example.com {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.918 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.919 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 18.1213ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.919 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.921 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 25.2225 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:0000000A","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.922 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 27.1574ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
