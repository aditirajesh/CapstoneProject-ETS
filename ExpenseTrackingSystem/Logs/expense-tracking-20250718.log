[2025-07-18 00:02:32.518 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKE:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.525 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKE:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.525 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1441 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKE:00000001","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.525 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 7.6796ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKE:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.518 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKD:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.531 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKD:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.531 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.8879 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKD:00000001","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.532 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 14.1717ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKD:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.532 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.533 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.540 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.540 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.541 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.541 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.554 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.560 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.566 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.566 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.567 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.570 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.689 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.689 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.705 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 170.2108ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 177.9015 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKE:00000002","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.710 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 144.4764ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.711 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 178.2019ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKE:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.711 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.711 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 150.5247 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKD:00000002","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:32.711 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 157.1668ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKD:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.601 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKD:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.601 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKD:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.601 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1552 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKD:00000003","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.601 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.5452ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKD:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.603 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.604 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.606 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.608 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.610 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.610 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.615 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.625 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKE:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3582 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKF:00000001","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKE:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.7573ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.626 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.9927 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKE:00000003","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.627 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.4758ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKE:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.636 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.636 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.636 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.636 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.636 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.637 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.637 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.639 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.639 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.640 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.640 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.640 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.652 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.658 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.659 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.661 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.662 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.663 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.663 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.665 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.666 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.666 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.666 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 59.0192ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 62.8749 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKD:00000004","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.667 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 64.4386ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKD:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKD","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.668 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.668 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.668 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.670 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.671 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 31.953ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.671 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.672 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 35.2910 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKE:00000004","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.673 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 37.0902ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKE:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKE","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.712 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.716 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.716 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.716 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.719 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.720 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.720 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.720 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.721 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.722 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.723 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 83.4979ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.723 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.723 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 87.1314 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKF:00000002","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:34.723 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 87.5631ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.571 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.571 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.571 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1027 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKF:00000003","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.571 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.5326ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.574 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.574 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.574 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.574 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.575 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.578 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.584 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.584 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.584 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/06/2025 12:02:55 AM +05:30-18/07/2025 12:02:55 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.587 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.587 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.587 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:55.587 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.344 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.344 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.345 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3770.2278ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.345 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.345 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3770.8258 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKF:00000004","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:02:59.345 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3771.142ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.187 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKG:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.189 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKG:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.190 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.5751 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKG:00000001","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.189 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.190 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.0697ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKG:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.196 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.196 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2358 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKF:00000005","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 7.7564ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.226 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.227 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.228 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.229 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.229 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.230 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.232 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.232 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.235 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.236 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.241 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.277 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.289 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.300 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.301 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.301 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.304 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.305 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.305 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.305 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 77.0206ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 79.3314 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKF:00000006","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.306 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 79.8971ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.323 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.324 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.324 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.326 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.327 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.327 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.327 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.327 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.327 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.328 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 91.3679ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.328 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.328 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 96.2445 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKG:00000002","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:04:59.328 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 98.8294ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKG:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.110 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKG:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.110 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKG:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.110 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2334 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKG:00000003","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.111 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.7403ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKG:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.113 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.114 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.114 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.114 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.115 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.115 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.117 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.118 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.118 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.6285 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKF:00000007","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.119 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 2.067ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.120 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.121 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.121 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.121 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.122 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.123 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.123 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKH:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.123 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKH:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.123 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1174 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKH:00000001","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.124 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.4648ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKH:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.124 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.128 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.128 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.128 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.128 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.129 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.130 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.130 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.130 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.131 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.131 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.135 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.135 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.135 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.135 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.135 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.136 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.136 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.137 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.137 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 23.431ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 24.1502 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKG:00000004","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 24.5797ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKG:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.138 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.139 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.140 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.140 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.141 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.141 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.141 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.141 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.142 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.142 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 20.8461ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.142 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.142 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 21.7083 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKF:00000008","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.142 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 22.1248ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.143 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.143 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.143 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.144 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.145 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.145 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.146 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 17.6561ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.147 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.147 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 18.8454 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKH:00000002","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:06.147 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 19.4498ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKH:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.205 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.206 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.207 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.209 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.210 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.292 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.293 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.294 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.294 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.296 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.296 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.296 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.296 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.297 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.297 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.297 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.297 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.300 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.301 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.301 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.304 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.305 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.305 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.331 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.331 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.332 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.331 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.332 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.332 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.335 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.335 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.336 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.336 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.336 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.336 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.336 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.337 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 41.0666ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 129.1363ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 41.6505ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 44.9050 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKF:00000009","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 44.2523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKG:00000005","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 46.1668ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKF:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKF","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 44.8851ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKG:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKG","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.338 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 132.2723 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKH:00000003","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:09.342 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 137.2297ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKH:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.955 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKH:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.955 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKH:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.955 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.2294 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKH:00000004","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.955 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.7283ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKH:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.959 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 52 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.959 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.959 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.960 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.961 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.965 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.967 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.968 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.968 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/06/2025 12:05:20 AM +05:30-18/07/2025 12:05:20 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.970 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.970 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.971 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:20.971 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.498 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to bronzebohemian0@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.498 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.498 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4537.9977ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.498 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.498 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4539.3376 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":52,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKH:00000005","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:05:25.499 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4540.0287ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKH:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKH","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.870 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKI:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.871 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKI:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.871 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2056 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKI:00000001","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.871 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.5002ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKI:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKJ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKJ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1076 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKJ:00000001","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.5005ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKJ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.876 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.879 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.879 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.884 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.884 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.885 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.885 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.886 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.887 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.955 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.955 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.980 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.983 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.983 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.983 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.983 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.983 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.984 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 99.6134ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 107.1382ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 101.4399 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKJ:00000002","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.985 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 109.2640 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKI:00000002","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.986 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 102.1062ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:27.986 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 110.1791ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKI:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.875 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKI:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.875 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKI:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.876 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3224 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKI:00000003","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.877 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 2.0829ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKI:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.879 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.880 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.880 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.882 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.883 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.884 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKJ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.885 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKJ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.885 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1488 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKJ:00000003","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.885 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.7492ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKJ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.886 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.887 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.887 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.887 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.888 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.888 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.890 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.893 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.894 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.894 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.894 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.901 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.901 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.4091 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKK:00000001","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.1606ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.903 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.902 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.903 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.905 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.905 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.906 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.905 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.909 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.909 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.911 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.910 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 29.5171ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.911 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.912 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 32.2407 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKI:00000004","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.912 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 33.0212ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKI:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKI","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.912 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.913 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.922 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.923 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.923 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.924 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.925 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.926 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.926 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 38.3207ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.928 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.928 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 41.3638 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKJ:00000004","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 41.8907ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKJ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.933 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.936 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.937 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.937 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.940 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.941 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.941 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.941 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.942 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.942 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.943 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 32.3397ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.944 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.944 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 38.5841 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKK:00000002","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:13:59.944 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 39.3001ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKK:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.652 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.659 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.666 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 7.5385 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKL:00000001","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.666 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 14.8444ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.667 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.667 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.670 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1667 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKM:00000001","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.676 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 9.204ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.714 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.716 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.717 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.717 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.717 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.726 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.727 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.727 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.732 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.733 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.734 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.734 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.868 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.868 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.885 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.893 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.894 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.894 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.895 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.895 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.895 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.895 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 168.4189ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.896 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.896 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 169.5492 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKM:00000002","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.896 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 179.2708ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.896 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.897 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.897 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.897 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 173.5958ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 183.9044 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKL:00000002","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:00.898 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 184.658ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.179 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKL:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.180 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKL:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.180 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1425 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKL:00000003","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.180 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.5616ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKL:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKL:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKL:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1506 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKL:00000004","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.185 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.186 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.5262ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKL:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.186 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.186 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.187 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.190 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.190 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.191 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.191 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1340 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKN:00000001","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.192 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.807ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.196 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.196 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.196 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.197 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.197 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.198 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.202 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.204 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.205 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.205 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.205 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.206 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.207 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.207 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.207 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.207 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 22.5722ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.208 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.209 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 23.3782 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKM:00000003","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.209 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 24.5502ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKM:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.213 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.214 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 23.2481ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.215 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.215 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 24.1746 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKL:00000005","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.215 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 24.4802ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKL:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.231 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.235 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.235 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.236 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.238 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.238 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.238 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.239 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.239 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.239 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.239 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 42.6559ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.240 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.240 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 44.2104 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKN:00000002","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:27:03.241 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 45.6074ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.397 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKO:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.398 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKO:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.398 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.3602 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKO:00000001","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.399 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 1.9213ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKO:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.402 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 52 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.403 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.406 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.412 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.416 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.422 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.423 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.423 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/06/2025 12:28:26 AM +05:30-18/07/2025 12:28:26 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.429 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.430 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.430 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:26.430 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.262 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to bronzebohemian0@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.262 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.263 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3855.4669ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.263 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.263 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3860.0033 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":52,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKO:00000002","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:28:30.263 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3861.1928ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKO:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.744 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKO:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.744 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKO:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.744 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2272 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKO:00000003","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.745 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.0075ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKO:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.750 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.750 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.750 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.750 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.751 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.751 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.760 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.769 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.770 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.770 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.0810 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKP:00000001","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.770 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.3128ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.772 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.773 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.773 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.773 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.773 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.796 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.796 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.797 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.797 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.814 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.815 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 65.0794ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.816 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.816 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 65.8783 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKO:00000004","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 66.3567ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.850 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.850 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.850 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.860 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.860 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.860 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.861 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.861 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.861 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.862 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 88.9098ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.862 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.862 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 89.8893 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKP:00000002","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:29:29.863 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 90.4121ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKP:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.536 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.537 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.539 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.539 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.539 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.6746 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKQ:00000001","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.540 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.5459 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKR:00000001","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.540 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.232ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.540 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.4249ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.554 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.554 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.556 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.557 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.562 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.560 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.565 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.562 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.567 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.567 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.568 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.570 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.659 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.659 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (51ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.708 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.709 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.709 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.712 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.712 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.713 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.719 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.719 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.720 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.720 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.720 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.720 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.721 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.720 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.722 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.722 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 154.7066ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.723 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.724 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 161.9246 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKQ:00000002","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.722 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 163.04ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.725 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 165.9885ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.725 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.725 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 171.1142 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKR:00000002","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:49.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 171.693ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.749 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000003","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.749 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000003","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.749 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/vaishalraj47@gmail.com responded 204 in 0.1060 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKR:00000003","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.749 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/vaishalraj47@gmail.com - 204 null null 0.4618ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000003","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.752 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.752 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.753 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.755 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.757 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for vaishalraj47@gmail.com by vaishalraj47@gmail.com from IP ::1 {"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.760 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"vaishalraj47@gmail.com","RequestingUser":"vaishalraj47@gmail.com","ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user vaishalraj47@gmail.com for vaishalraj47@gmail.com {"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 5.5921ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/vaishalraj47@gmail.com responded 200 in 8.8995 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKR:00000004","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:51.761 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 9.667ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000004","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.415 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.415 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2549 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKR:00000005","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.7699ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.419 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.421 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.421 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.423 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKQ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKQ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.2943 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKQ:00000003","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.424 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.6543ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKQ:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.427 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.428 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.429 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.429 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.431 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.431 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.435 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.437 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.437 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.438 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2034 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKS:00000001","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.438 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.034ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.442 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.443 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.444 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.448 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.448 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.449 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.450 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.452 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.452 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.453 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.453 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.453 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.453 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.459 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.459 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.460 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.460 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.461 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.461 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.463 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.463 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.464 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.464 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.464 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 35.362ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.464 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 41.6511ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 45.8202 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKR:00000006","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.465 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 37.4002 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKQ:00000004","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.466 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 38.1445ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKQ:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.466 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 46.5802ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.501 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.517 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.519 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.521 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.527 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.527 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.527 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 79.4654ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 84.4775 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKS:00000002","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:33:52.528 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 84.9485ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.409 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.409 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.409 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1571 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKS:00000003","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.409 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.4392ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.412 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.413 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.415 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.415 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.417 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.421 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.428 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.429 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.429 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/06/2025 12:34:08 AM +05:30-18/07/2025 12:34:08 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.432 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.433 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.433 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:08.433 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.978 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.979 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.979 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3563.9855ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.980 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.980 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3566.7545 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKS:00000004","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:11.980 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3568.069ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.443 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.443 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.443 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1438 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKS:00000005","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.443 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.0234ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.467 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.467 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.467 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.467 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.468 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.468 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.470 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.470 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.467 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2356 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKR:00000007","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.474 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 6.9638ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.478 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.478 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.479 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.479 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.479 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.480 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.493 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.493 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (22ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.500 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.500 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.500 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.501 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.501 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.501 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.510 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.510 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.512 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.511 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.512 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.512 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.513 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.7814ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.513 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.513 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 35.1168 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKR:00000008","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.513 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 35.6441ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKR:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.513 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 44.0514ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.514 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.514 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 47.2098 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKS:00000006","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 00:34:19.514 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 47.6944ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.456 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.671 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.841 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.843 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.844 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:21:49.844 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.175 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.175 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.231 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5MRJAPRRM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.233 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.233 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.254 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 33.9592 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRM:00000001","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.254 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 33.9069 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRL:00000001","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.284 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 111.2121ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRM:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.284 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 111.2119ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.292 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.292 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.303 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.303 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.484 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.484 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.509 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.509 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.806 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.806 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.812 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:30.812 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:32.241 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:32.702 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (97ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:32.702 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (97ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.162 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.162 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.182 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.182 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.185 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.185 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.279 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.279 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.312 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.312 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.313 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.313 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.319 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.325 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.325 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.327 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.408 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 2892.1927ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.408 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 2892.1842ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.409 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.409 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.412 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 3114.3978 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRM:00000002","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.412 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 3114.4009 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRL:00000002","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.432 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 3138.9966ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRM:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:33.432 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 3138.9347ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.198 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.199 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.8684 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRL:00000003","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.200 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.5472ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.201 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.203 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.218 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.225 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.234 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user null (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.238 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.325 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.333 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 2 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 2) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.334 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.334 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 2 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.335 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981756-c370-770c-a856-f7749a406f0e" 'general groceries': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.335 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.336 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 2 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"940b1887-c291-444e-bae4-0e66ac20e9af","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.354 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 128.4049ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.354 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.356 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 152.3213 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRL:00000004","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:22:52.356 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 154.9568ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.446 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.447 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.447 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRM:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.447 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2530 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRL:00000005","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.447 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRM:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.448 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.449 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.448 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.4290 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRM:00000003","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.448 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.293ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.449 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.4971 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRN:00000001","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.451 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 3.2211ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRN:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.451 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 3.2709ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRM:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.453 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.453 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.453 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.454 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.455 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.456 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.456 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.454 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.457 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.457 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.457 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.462 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.462 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.462 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.463 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.463 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.467 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.467 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.468 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.473 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.476 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.476 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.477 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.477 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.477 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.478 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.480 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.480 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.481 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.481 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.481 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.481 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.482 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 26.4583ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 24.9745ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 26.7946 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRN:00000002","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.483 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 30.2462 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRL:00000006","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.484 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 29.7154ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.484 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 31.5786ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRL:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.550 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.555 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.555 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.555 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.560 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.561 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.562 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.580 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.581 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.581 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e1a26c44-4335-45e8-b0d9-1c02b908bb12","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.585 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 122.2448ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.585 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.586 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 131.6184 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRM:00000004","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:23:01.586 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 132.6536ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRM:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5MRJAPRRM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.728 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.728 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.731 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.731 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.732 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.4300 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRO:00000001","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.732 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.5437 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRP:00000001","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.733 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 5.0876ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRP:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.732 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 4.8385ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.739 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.739 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.739 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.739 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.741 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.741 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.742 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.742 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.743 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.744 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.746 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:25.746 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.217 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.217 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.326 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.326 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.327 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.330 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.331 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.331 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.331 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.332 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.332 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.332 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 589.8537ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.333 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.333 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 593.4607 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRO:00000002","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.333 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 594.2646ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.359 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (139ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.359 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.359 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.362 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.362 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.363 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.363 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.363 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.364 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.364 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 622.5987ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.364 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.364 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 624.8084 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRP:00000002","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 10:48:26.365 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 625.3579ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.255 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.255 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.257 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.257 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.258 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.0692 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRR:00000001","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.260 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.7923 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRQ:00000001","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.261 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.1311ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.261 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 5.7611ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRQ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.275 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.280 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.284 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.285 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.290 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.290 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.291 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.291 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.296 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.329 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.296 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.332 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.470 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.471 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.482 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.486 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.486 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.486 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.486 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.486 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.487 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.487 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 194.5339ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 197.5338ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.488 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.489 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 203.8601 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRQ:00000002","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.489 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 212.9672 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRR:00000002","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.489 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 213.6208ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:17:04.489 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 204.6694ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRQ:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.152 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.152 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRT:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.153 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3597 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRS:00000001","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.153 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.3496ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRT:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.154 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8425 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5MRJAPRRT:00000001","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.154 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.9048ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRT:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.158 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.158 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.158 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.158 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.159 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.159 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.159 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.159 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.160 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.160 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.160 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.160 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.191 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.207 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.208 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.208 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.210 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"af103f65-60ed-44bf-8ec4-e6db37dfea4b","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.211 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 52.4837ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.212 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (24ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.212 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.212 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 54.0782 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRT:00000002","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.212 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 54.5566ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5MRJAPRRT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.227 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.228 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.228 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.233 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.233 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.233 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.233 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.233 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.234 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"fe775d38-376d-42f0-b203-6b7533f6b6e9","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.234 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 74.7002ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.234 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.234 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 75.9271 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5MRJAPRRS:00000002","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:32:15.234 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 76.2864ms {"EventId":{"Id":2},"RequestId":"0HNE5MRJAPRRS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5MRJAPRRS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.403 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.495 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.585 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.587 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.587 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:45:55.587 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.701 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.702 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTJ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.770 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5OAEHHKTJ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.773 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.773 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTJ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.795 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 42.0173 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTJ:00000001","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.795 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 41.9703 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTK:00000001","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 118.9825ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTK:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 118.9869ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTJ:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.824 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.824 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.841 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.841 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.972 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:20.972 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.002 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.002 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.205 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:21.205 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:22.332 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:22.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (62ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:22.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (62ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.025 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.025 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.044 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.044 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.047 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.047 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.153 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.153 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.185 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.185 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.186 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.186 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.191 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.196 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.197 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.198 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.209 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.209 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.384 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 2376.4974ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.384 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 2376.5106ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.385 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.385 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.390 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 2561.0255 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTJ:00000002","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.390 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 2561.0636 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTK:00000002","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.400 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 2575.5512ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTK:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTK","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:46:23.400 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 2575.5315ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTJ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTJ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.112 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.116 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.119 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.147 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.162 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.162 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 42.8416ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.162 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.162 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 49.7377 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTL:00000001","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.163 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 50.9058ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTL:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:10.722 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdrc0kfXdfkBHhpH7VHHDQVXJ6z2D9h1wxq6USlCDdSWqjrXWESpNGhPM8Y_BcWsW4FJGn_WaDsjPprRWaV1lt8BaKTaBj2hTobsLn33VqnyZLyTpbrcz_lBqggwJpOaYkrHn14q-G4cHjAMvnPlt2QCU0_DrYqAnlBL7Px8JWZc5hyHo3buV483ECq9fOCvFzFf1XQGvv6AQGqhmeYeh1gJXvTYKy4xV5JU54UuXEUyy2IvOX8moQDoPe-SblC60F1vAop7CBOftQ7v1xUaOWw4lVK3o52_y-g-iJa59rtTpRqXpv38H_WfBrmCSaieMBs&code=4%2F0AVMBsJi7LhuMgdw93Vi-OjbwVPUQaW7HJZ1C39-xGBSx1Dme3Ejl-HfSktcvuDiN6rjKHA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTL:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.490 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5OAEHHKTL:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 767.8426 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTL:00000002","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.490 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdrc0kfXdfkBHhpH7VHHDQVXJ6z2D9h1wxq6USlCDdSWqjrXWESpNGhPM8Y_BcWsW4FJGn_WaDsjPprRWaV1lt8BaKTaBj2hTobsLn33VqnyZLyTpbrcz_lBqggwJpOaYkrHn14q-G4cHjAMvnPlt2QCU0_DrYqAnlBL7Px8JWZc5hyHo3buV483ECq9fOCvFzFf1XQGvv6AQGqhmeYeh1gJXvTYKy4xV5JU54UuXEUyy2IvOX8moQDoPe-SblC60F1vAop7CBOftQ7v1xUaOWw4lVK3o52_y-g-iJa59rtTpRqXpv38H_WfBrmCSaieMBs&code=4%2F0AVMBsJi7LhuMgdw93Vi-OjbwVPUQaW7HJZ1C39-xGBSx1Dme3Ejl-HfSktcvuDiN6rjKHA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - 302 0 null 768.4888ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTL:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.495 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.498 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.503 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.565 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.579 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.580 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4MTk0MzEsImV4cCI6MTc1NDExNTQzMSwiaWF0IjoxNzUyODE5NDMxfQ.wVFI8Yskhu1hB80Oyh-B-Kk7Hnz7-wLD9QC1AL2cCzA&refreshToken=m5kkGvmgmvwdGiUieS0QG2zXM1tFZS%2BqZJIBDggn9lE%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.581 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 82.7635ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.581 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.581 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 86.4869 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTL:00000003","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:47:11.581 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 87.9617ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTL:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.835 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.836 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.836 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.840 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.840 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"292af603-876f-4120-9a22-d20c6bdaefdf","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.840 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 4.2025ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.841 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.841 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 5.0686 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTM:00000001","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:53.841 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 6.0037ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTM:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.207 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdoEoALnTDofftV_Dt57gsrxYbZxWNdXCBDWBxjiWvi4pnsOsHC_-ySBdjLijYpzN_6YZOZZh3babBUNboVAfJ-gnVDnot9DTIZ2SW5SD3t-wudcgPssaDOKFlUmVI_LluyoRWmNVzdSEERS_kxRRyhgM3SWV6E5k0QIRSDRBwnvYu7vbQ0iEpOix7w9s-2kTySC38A2IertAj2M6-hxElqaFVbImkBOhIejJ7vwCVkI3ry6z5ustetsdBCmECAgZYZzjZFPYfoVqYVldTYYx33la7pbXptCGUos-GJQXhcd8F8e-cISJ0Z0cV42xWJAw_k&code=4%2F0AVMBsJir2b9OxqWX7yZvU-rl2P9Pf7Wl0x4q_oGp3h6nUteJ6h91eNM5r0WacCVtTK9nUg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTM:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.992 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5OAEHHKTM:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.992 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 784.2746 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTM:00000002","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.992 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdoEoALnTDofftV_Dt57gsrxYbZxWNdXCBDWBxjiWvi4pnsOsHC_-ySBdjLijYpzN_6YZOZZh3babBUNboVAfJ-gnVDnot9DTIZ2SW5SD3t-wudcgPssaDOKFlUmVI_LluyoRWmNVzdSEERS_kxRRyhgM3SWV6E5k0QIRSDRBwnvYu7vbQ0iEpOix7w9s-2kTySC38A2IertAj2M6-hxElqaFVbImkBOhIejJ7vwCVkI3ry6z5ustetsdBCmECAgZYZzjZFPYfoVqYVldTYYx33la7pbXptCGUos-GJQXhcd8F8e-cISJ0Z0cV42xWJAw_k&code=4%2F0AVMBsJir2b9OxqWX7yZvU-rl2P9Pf7Wl0x4q_oGp3h6nUteJ6h91eNM5r0WacCVtTK9nUg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - 302 0 null 784.6537ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTM:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.996 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.996 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.996 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:54.997 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.031 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.033 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.034 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4MjAwNzUsImV4cCI6MTc1NDExNjA3NSwiaWF0IjoxNzUyODIwMDc1fQ.R4K5nV3hlUOsXSc-0L6g7arRhywg0H9eXiwvyZyBfXw&refreshToken=StmCJME%2BBCeDbHabcdYH9MDvEEzxZMemxQ2Bv6Uz0dU%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"05b676b1-d87f-4bfb-a7e0-0ad1ef049c8e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.034 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 37.1958ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.034 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.034 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 37.7792 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTM:00000003","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:57:55.034 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 38.2021ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTM:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OAEHHKTM","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.761 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.762 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.762 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3201 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000001","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.763 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.209ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.772 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.772 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.772 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.773 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.773 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.4967 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000002","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.773 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.4857ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.779 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.780 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.789 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.789 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.790 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.791 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.794 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.795 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.800 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.797 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.817 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.832 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.834 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.835 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.843 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.846 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.847 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.850 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.851 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.854 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.858 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 64.8569ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.858 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.859 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 85.7343 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTO:00000001","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.861 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 89.6435ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTO:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.912 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (37ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.963 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.964 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.989 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.989 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.990 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.991 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.993 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 203.2546ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.994 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.994 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 214.2151 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTN:00000003","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:11.994 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 215.117ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.627 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.628 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.628 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.1323 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000004","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.628 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5625ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.630 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 65 {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.631 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.639 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.645 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.673 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.675 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:35.677 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.016 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.018 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role Analyser, token expires: "2025-07-25T06:28:35.9979680+00:00" {"RemoteIP":"::1","ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.019 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.019 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"62633085-4ff0-41e3-800d-cb10441b0d8e","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.021 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 375.9992ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.021 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.022 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 390.7927 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":65,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000005","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.023 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 392.5306ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.058 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.058 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1790 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000006","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.060 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.7823ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.063 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.063 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.065 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.065 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.065 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.066 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.066 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.4005 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTO:00000002","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.067 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.1971ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTO:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.071 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.079 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.081 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.082 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.083 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.084 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.086 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.086 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.088 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.093 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.093 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.094 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.094 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.114 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.115 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.115 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.116 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.116 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.116 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.117 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.117 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.117 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.117 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 51.4557ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.117 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.118 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 54.4374 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTN:00000007","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.119 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 56.674ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.122 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.127 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.129 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.129 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.130 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.130 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.131 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 46.3315ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.131 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.132 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 49.8470 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTO:00000003","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:58:36.132 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 51.7414ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTO:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.832 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.7259 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTO:00000004","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.833 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.7941ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTO:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.850 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.852 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.858 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.860 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.860 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.861 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.861 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1924 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTN:00000008","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.861 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.861 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.5654ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.861 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.881 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.888 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.889 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.908 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:38.908 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.138 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (270ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.145 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (234ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.175 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.176 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.177 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.180 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.180 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.181 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.182 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.183 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.184 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.184 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.184 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.184 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.184 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.185 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 295.861ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.185 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.185 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.186 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.186 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.186 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 306.0203 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTN:00000009","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.187 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.187 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 308.3294ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTN:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.188 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.188 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 328.0999ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.188 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.189 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 338.0227 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTO:00000005","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 11:59:39.189 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 339.3312ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.607 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.610 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.611 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2559 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTP:00000001","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.611 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 4.3415ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.649 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.650 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.650 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3688 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OAEHHKTQ:00000001","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.650 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.0821ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.651 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.651 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.655 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.664 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.664 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.677 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.686 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.687 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.688 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.689 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:11.690 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.029 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.029 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.051 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.051 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.052 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.072 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.074 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.074 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.076 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.078 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.079 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.083 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.084 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.085 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a141358f-5cd5-4540-a217-112808abcc70","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.086 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 397.867ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.086 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.086 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 400.2957 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTQ:00000002","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.090 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 412.5968ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OAEHHKTQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.095 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.098 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.099 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.099 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.100 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.100 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4a57cec3-4cd4-43eb-8885-2b68fae598c1","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.101 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 440.6669ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.101 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.101 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 450.1204 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OAEHHKTP:00000002","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:06:12.102 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 450.72ms {"EventId":{"Id":2},"RequestId":"0HNE5OAEHHKTP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OAEHHKTP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.667 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.738 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.827 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.829 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.829 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:05.829 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:25.975 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.022 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.062 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.075 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.236 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.252 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.256 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 176.1038ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.268 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.280 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 269.0026 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974N:00000001","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.286 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 313.7192ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974N:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:26.878 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdqKZeksDcj_hhgEgKbD8eBpvt72vDZ77NzWg08WCQXjzULXMIw07c-Tvx4rQWjHIaZNKkzgQOudbkFGJVifsLD8Zjgvz3ALhPcWvrjVtuMhmOKGW1v4ugCrH7LVTQPSw4LkPabq35q5eaiQhrj6g6jZBWZQn5oQnl5bPhnbv6zMN5hSgUIX2z26GWrX0VU_yRjhnOruovZSfn1RiqW2eIpU9uIFvCOHTsfp4K0MyIx15qhTrhRvSNsiWWq_kKBzNTCvv5xsU7I8TxYHk3P46p2da6zqW5-s9RO-sQv_5Ib1_3poQRFbw6sgZ9Y8bszBRf8&code=4%2F0AVMBsJgLzgGNmyT3ZNB4U3ktG07IeUTfgKBnvmZaZ5_6VN8W86nlflUEmv08GAmguA3zrQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974N:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.112 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5OM7K974N:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.114 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 1234.0207 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974N:00000002","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.116 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdqKZeksDcj_hhgEgKbD8eBpvt72vDZ77NzWg08WCQXjzULXMIw07c-Tvx4rQWjHIaZNKkzgQOudbkFGJVifsLD8Zjgvz3ALhPcWvrjVtuMhmOKGW1v4ugCrH7LVTQPSw4LkPabq35q5eaiQhrj6g6jZBWZQn5oQnl5bPhnbv6zMN5hSgUIX2z26GWrX0VU_yRjhnOruovZSfn1RiqW2eIpU9uIFvCOHTsfp4K0MyIx15qhTrhRvSNsiWWq_kKBzNTCvv5xsU7I8TxYHk3P46p2da6zqW5-s9RO-sQv_5Ib1_3poQRFbw6sgZ9Y8bszBRf8&code=4%2F0AVMBsJgLzgGNmyT3ZNB4U3ktG07IeUTfgKBnvmZaZ5_6VN8W86nlflUEmv08GAmguA3zrQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - 302 0 null 1238.3105ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974N:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.124 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.127 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.139 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:28.157 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.393 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.689 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (69ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.859 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.861 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4MjA2NDksImV4cCI6MTc1NDExNjY0OSwiaWF0IjoxNzUyODIwNjQ5fQ.TC2a796_jiXvQ7S1WCbmwlZWn2bmGTq61eflmXBsaGw&refreshToken=TQcmELw41vYumPxysqeIERpCsPkO%2B9i6bQ%2BKgse6faw%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.862 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 1722.1983ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.862 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.863 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 1737.7822 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974N:00000003","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:29.868 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 1744.5978ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974N:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974N","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.917 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974P:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.919 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974O:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.922 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974P:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.922 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974O:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.926 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 6.1329 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974O:00000001","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.927 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 8.0942ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974O:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.927 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 5.5424 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974P:00000001","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.974 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 56.6415ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974P:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.993 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.993 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.997 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:30.997 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.096 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.096 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.126 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.126 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.157 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.157 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.174 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.174 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.227 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.274 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.475 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.475 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.491 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.491 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.493 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.493 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.674 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.674 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.703 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.703 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.704 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.704 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.710 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.714 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.715 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.718 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.724 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.724 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.776 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 650.1998ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.777 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.777 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 779.4802 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974O:00000002","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.778 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 784.5994ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974O:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974O","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.783 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 656.4205ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.783 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.786 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 786.0256 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974P:00000002","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:07:31.787 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 794.0205ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974P:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974P","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.790 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.790 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.791 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2841 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974Q:00000001","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.791 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.0161ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.791 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.791 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.792 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3959 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974R:00000001","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.792 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.8735ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.809 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.810 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.813 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.813 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.813 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.813 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.814 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.814 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.818 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.818 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.818 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.819 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.945 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.949 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.951 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.952 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.952 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.952 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.953 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.953 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.962 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.962 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.964 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 152.0034ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 151.3016ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.966 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 156.0148 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974Q:00000002","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.966 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.966 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 156.5251ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.966 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 152.6124 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974R:00000002","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:10:39.966 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 153.1206ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.315 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.316 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.316 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.317 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.318 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.319 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 2.7061ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.319 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.319 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 3.4578 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974S:00000001","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.319 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 4.0667ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974S:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:26.689 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdq7Uu95Cbp1X6FGveTfKfdvbe-Kw0rK_Z2kkbXfKRj-wJNXCuFaQBnpzU86GIv2aJyZGMsQywldBQVtm4bC4rrLJjEXhyTDrnEkhqxkMk2wN2CeWFrRs0nRw9bo7Ewz9wqUQkd6dcqzoyB8lwcblcfNULlTm9qN0aF4XiYJ0ai0rKEhOgGY-kt88NOR7VR94WOI9Bh7nMDNCG_utYFXM4eZ7yYAjCcKXxMwiJ1kZxne5cIWD2pbqI8Q8Z3s0nLp4-rjcKcSWJsubeIm285MW87bBJEglGgnN4fdK3xlYTN4Br2gtbh0IO4KYZHYe6Ik5t4&code=4%2F0AVMBsJi-NLvE-_mJjxEmPfhPDKrw8KhAiJ-_H72kMuQhd4Rhu4XhiaCMRlQ7dDrXiG4hJw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974S:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.377 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5OM7K974S:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.377 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 687.5509 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974S:00000002","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.377 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdq7Uu95Cbp1X6FGveTfKfdvbe-Kw0rK_Z2kkbXfKRj-wJNXCuFaQBnpzU86GIv2aJyZGMsQywldBQVtm4bC4rrLJjEXhyTDrnEkhqxkMk2wN2CeWFrRs0nRw9bo7Ewz9wqUQkd6dcqzoyB8lwcblcfNULlTm9qN0aF4XiYJ0ai0rKEhOgGY-kt88NOR7VR94WOI9Bh7nMDNCG_utYFXM4eZ7yYAjCcKXxMwiJ1kZxne5cIWD2pbqI8Q8Z3s0nLp4-rjcKcSWJsubeIm285MW87bBJEglGgnN4fdK3xlYTN4Br2gtbh0IO4KYZHYe6Ik5t4&code=4%2F0AVMBsJi-NLvE-_mJjxEmPfhPDKrw8KhAiJ-_H72kMuQhd4Rhu4XhiaCMRlQ7dDrXiG4hJw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - 302 0 null 687.9359ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974S:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.380 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.380 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.381 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.381 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.398 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.399 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.399 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4MjA4ODcsImV4cCI6MTc1NDExNjg4NywiaWF0IjoxNzUyODIwODg3fQ.jGT8km4AgQsvgf1b68xp2yHdBLZenDHuCwS7QH3OTo4&refreshToken=v4b8iX%2FDbcKs5%2BzEhHiPoVM%2F1p0QU72EeIQMDfCx7EY%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.399 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 18.673ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.399 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.399 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 19.0973 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974S:00000003","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.400 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 19.3732ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974S:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K974S","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.521 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2442 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974R:00000003","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1162 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974Q:00000003","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.522 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.5749ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 5.1487ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.527 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.529 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.529 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.530 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.530 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.531 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.531 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.531 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.533 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.534 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.547 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.547 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.551 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.553 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.553 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.554 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.554 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.555 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.555 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.555 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.555 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 23.5332ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.555 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.556 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.556 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 25.6621 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974Q:00000004","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.556 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.557 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.557 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 26.9462ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.558 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 28.7754ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.559 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.560 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 32.2552 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974R:00000004","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:27.560 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 32.7807ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.724 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.724 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3952 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974R:00000005","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.0154ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1506 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974Q:00000005","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.5734ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.726 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974T:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.727 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974T:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.727 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2313 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974T:00000001","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.728 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.8027ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974T:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.728 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.729 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.729 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.729 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.730 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.730 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.730 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.730 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.730 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.731 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.731 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.732 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.732 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.733 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.732 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.742 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.745 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.749 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.750 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.754 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.754 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.759 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.759 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.760 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.760 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.760 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.760 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.762 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.762 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.763 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.764 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 33.4439ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.764 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.764 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 35.7653 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974Q:00000006","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.765 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 36.4843ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974Q:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974Q","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.769 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.770 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.770 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.780 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 38.523ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.781 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.781 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 52.0465 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974R:00000006","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.781 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 52.6751ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974R:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K974R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.804 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.805 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.805 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.808 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.809 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.809 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.809 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.809 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.810 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 78.2842ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.810 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.810 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 80.1844 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974T:00000002","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:11:35.810 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 80.649ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974T:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974T","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.701 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.703 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.704 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.8602 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974U:00000001","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.705 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 3.6569ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.708 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 51 {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.708 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.709 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.715 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.757 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.797 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.807 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.808 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.808 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/06/2025 12:23:49 PM +05:30-18/07/2025 12:23:49 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.810 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.811 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.813 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:49.816 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.464 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to rohith2110565@ssn.edu.in {"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.466 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e6e0e354-f7e4-46ec-b417-70b147958f03","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.467 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4751.9452ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.467 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.468 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4759.5815 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":51,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974U:00000002","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:23:54.469 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4760.6711ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.850 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.850 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.851 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2242 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974U:00000003","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.851 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.7587ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.852 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974V:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.852 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974V:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.852 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1890 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974V:00000001","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.852 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.5446ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974V:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.861 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.862 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.863 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.863 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.865 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.866 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.871 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.872 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.872 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.873 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.875 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.875 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.878 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.882 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.883 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.883 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.888 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.889 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.889 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.890 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.890 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.890 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.890 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 27.0646ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.891 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.891 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 28.9316 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974U:00000004","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.891 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 29.6356ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.906 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.913 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.914 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.914 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.917 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.917 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.917 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.917 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.917 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.918 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.918 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 45.0212ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.918 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.918 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 46.9036 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974V:00000002","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:24:13.919 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 47.5236ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974V:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.337 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.338 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.338 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.339 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.340 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"80d2a0b3-48a6-4779-aac2-0857b3a1724e","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.340 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 1.7722ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.340 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.340 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 2.6420 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9750:00000001","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.340 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 3.4734ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9750:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:33.687 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdpDT1JYXJk-BP5CIJVpSrB_OlHaTmeh3JPMLjn_19aCr526hxlbFhci3X1_4FK7qstH8Wje0m3ANocEtLJEflIeTth0RuG8uYMryfeZVxdP2NClCzKFOSWQPVjtqyhHj_HLNTN-fq1Q3rXgmbQH8hEvEMa2HZ7EIRi_ywXZRl4uYqwKpMXGxu0YRYqIxPC--ZxvQEszNYGEk9XuybeCpBdpf772UHqyClwv40u61jsh5PZI2CnmMprJuKz-iCUB-3RNDKm1mr3UXBu4fSCHRjDv2sq0cnkkIu-0CK3XMCbrpJEebzcdrMiW4wAURz1dL2w&code=4%2F0AVMBsJiOsy0x4hZSM4YpsStwJzADEMj5i_fPda8D7LlV17QaTzHpGqHKlfrxwNyHA4teFQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9750:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.350 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5OM7K9750:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.350 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 663.5413 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9750:00000002","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.351 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdpDT1JYXJk-BP5CIJVpSrB_OlHaTmeh3JPMLjn_19aCr526hxlbFhci3X1_4FK7qstH8Wje0m3ANocEtLJEflIeTth0RuG8uYMryfeZVxdP2NClCzKFOSWQPVjtqyhHj_HLNTN-fq1Q3rXgmbQH8hEvEMa2HZ7EIRi_ywXZRl4uYqwKpMXGxu0YRYqIxPC--ZxvQEszNYGEk9XuybeCpBdpf772UHqyClwv40u61jsh5PZI2CnmMprJuKz-iCUB-3RNDKm1mr3UXBu4fSCHRjDv2sq0cnkkIu-0CK3XMCbrpJEebzcdrMiW4wAURz1dL2w&code=4%2F0AVMBsJiOsy0x4hZSM4YpsStwJzADEMj5i_fPda8D7LlV17QaTzHpGqHKlfrxwNyHA4teFQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=0&prompt=none - 302 0 null 663.9219ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9750:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.357 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.358 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.358 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.360 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.363 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.364 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.366 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4MjE3MzQsImV4cCI6MTc1NDExNzczNCwiaWF0IjoxNzUyODIxNzM0fQ.BstTfLhs3Irap7YVv7khuAOBSTPoxVwRM1cCkW_HlLM&refreshToken=THO4dgpPyYoL8Z1SrZdfVTVnq5x8eK02if0WhoMoCh8%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"99acedba-a07d-4955-aef7-c221db6b28a2","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.366 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 8.1173ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.366 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.367 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 9.1410 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9750:00000003","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.367 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 9.8806ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9750:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5OM7K9750","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.656 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974V:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.657 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974V:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.658 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.7658 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974V:00000003","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.7918ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974V:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.660 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.662 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.5470 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K974U:00000005","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.662 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 2.7798ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.666 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.668 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.669 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.670 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.672 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.674 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.674 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.675 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.675 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.676 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.677 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.681 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.682 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.688 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.689 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.689 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.689 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.689 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.689 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.693 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.693 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.694 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.695 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.695 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.695 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.695 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 25.8743ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 20.4489ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 23.3158 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974U:00000006","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 29.7500 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K974V:00000004","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.696 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 24.665ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974U:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K974U","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:25:34.697 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 30.6872ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K974V:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K974V","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.003 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9751:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.004 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9751:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.004 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2287 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9751:00000001","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.004 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.3229ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9751:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.011 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9752:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9752:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1996 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9752:00000001","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.5167ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9752:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.012 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.014 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.014 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.015 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.015 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.016 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9753:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.017 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9753:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.017 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.017 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.017 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2697 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9753:00000001","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.018 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.1134ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9753:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.018 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.019 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.020 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.020 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.021 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.023 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.024 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.026 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.027 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.034 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.039 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.039 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.040 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.040 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.041 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.041 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.041 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.042 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.042 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.042 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.042 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.042 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"b7c70f4c-ff1d-43ce-8ec5-7b0a10d4c7d4","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.043 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 25.4084ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.043 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 29.9028ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.043 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.044 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.045 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 30.2953 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K9752:00000002","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.045 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 33.4336 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K9751:00000002","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.046 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 31.5673ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9752:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5OM7K9752","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.050 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 38.2515ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9751:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.093 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.098 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.099 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.099 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.105 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.107 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.107 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.108 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.108 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.109 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.110 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 86.5305ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.110 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.110 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 90.2186 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K9753:00000002","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:27:56.111 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 90.8476ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9753:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.128 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9753:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.128 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9753:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.128 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2977 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9753:00000003","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.129 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.45ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9753:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.133 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.133 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.135 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.135 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.133 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9751:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.137 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9751:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.137 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3212 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5OM7K9751:00000003","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.138 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 4.3427ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9751:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.138 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.140 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.149 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.158 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.158 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.161 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.161 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.166 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.174 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.174 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.174 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.181 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.182 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.182 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.183 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.183 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.183 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d4de639e-4fbd-4746-8603-846585d19609","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.183 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 46.6827ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.183 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.184 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 50.1559 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K9753:00000004","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.184 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 50.5914ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9753:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5OM7K9753","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.198 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.326 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.326 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.327 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.388 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.389 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.390 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.390 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.391 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.392 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e4103fe5-6b39-4eca-93c6-7903c60a3b52","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.393 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 233.9478ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.393 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.393 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 239.7407 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5OM7K9751:00000004","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 12:28:06.393 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 244.486ms {"EventId":{"Id":2},"RequestId":"0HNE5OM7K9751:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5OM7K9751","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:58.911 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:59.027 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:59.156 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:59.161 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:59.162 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 16:32:59.162 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.524 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.525 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.594 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5U49H3IR0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.597 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.597 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.620 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 38.3813 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR0:00000001","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.620 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 38.4117 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000001","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.652 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 130.4764ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.652 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 130.2559ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.661 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.661 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.914 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.914 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.951 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:55.951 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:56.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:56.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:56.204 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:56.204 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:57.714 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.147 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (103ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.147 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (104ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.598 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.598 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.617 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.617 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.620 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.620 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.700 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.700 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.730 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.730 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.731 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.731 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.736 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.740 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.741 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.743 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.750 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.750 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.806 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 2852.0941ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.806 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 2847.9639ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.809 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.809 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.813 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 3146.0859 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR0:00000002","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.813 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 3146.1139 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IQV:00000002","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 3169.628ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR0:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:18:58.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 3169.6307ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.860 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.861 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.862 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.9060 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000003","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.864 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 3.8339ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.867 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59 {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.869 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.882 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.889 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.935 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user admin1@gmail.com from IP ::1 {"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:14.939 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user admin1@gmail.com {"RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.046 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.583 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.585 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user admin1@gmail.com with role Admin, token expires: "2025-07-25T11:49:15.5651800+00:00" {"RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.586 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user admin1@gmail.com from IP ::1 {"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.589 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 699.107ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.589 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.591 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 722.0250 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":59,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000004","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.591 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 724.2279ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.655 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.656 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.6119 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000005","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 3.2605ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.665 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.667 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.677 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.681 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.685 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin admin1@gmail.com from IP ::1 {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.725 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.731 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 2 users from repository {"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.732 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 2 users for admin admin1@gmail.com {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.733 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.759 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 77.0095ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.759 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.760 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 92.0656 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IQV:00000006","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:15.761 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 96.0336ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.491 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.491 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.491 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.2505 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000007","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.492 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100&username=vaishalraj47@gmail.com - 204 null null 1.0063ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.494 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.496 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.498 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.505 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.510 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by admin1@gmail.com for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.514 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.518 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.526 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 2 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 2) {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.527 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.527 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 2 {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.527 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981756-c370-770c-a856-f7749a406f0e" 'general groceries': HasReceipt=false, ReceiptId=null {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.527 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.528 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 2 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"admin1@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllExpenses by admin1@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.528 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"24388621-cafe-472f-89d4-1ea2b36f20eb","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.532 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 26.4846ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.532 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.532 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 36.3417 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IQV:00000008","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:40.532 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 38.6465ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.672 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.673 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.2355 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IQV:00000009","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.673 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 0.7461ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.675 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.676 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.678 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.678 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.682 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin admin1@gmail.com from IP ::1 {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.685 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.685 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 2 users from repository {"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.686 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 2 users for admin admin1@gmail.com {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.686 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 7.8846ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.687 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.687 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 10.9029 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IQV:0000000A","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:19:43.687 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 11.9245ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IQV:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IQV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.420 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.421 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.422 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.6224 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR1:00000001","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.422 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 2.023ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.425 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.426 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.428 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.429 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.430 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin admin1@gmail.com from IP ::1 {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.433 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.434 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 2 users from repository {"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.434 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 2 users for admin admin1@gmail.com {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.434 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.435 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 5.4586ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.435 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.436 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 9.8588 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR1:00000002","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:06.437 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 11.6071ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.122 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.123 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.125 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d13b6c46-4ead-400a-afc2-1ba420ab9c45","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.153 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"d13b6c46-4ead-400a-afc2-1ba420ab9c45","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.170 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"d13b6c46-4ead-400a-afc2-1ba420ab9c45","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.171 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 45.9849ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.171 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.171 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 48.3365 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR2:00000001","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:18.171 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 48.7875ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR2:00000001","RequestPath":"/auth/google-login","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.033 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdo3QaAkIkKQb6-Qiz0hthZhh8X9QpxNgZetmhBQtoLMDY6rfmSbp_tx_G1vc8bhlmg56oOeKf3ZvdJess5MLAda_SS2P75SDeAuWVD6sv0-kSu1nqtJLeWIEKTYyeWz9aFIQGQJwSzWJ_5i9f6m4WulX7Icrlm4NR1wgoqm_kWK9Ztovk0R_GUPaThFunghYzqmg6h35m9cgyOgoMyaVfMgkcfCt02_cIva0bFP4P6oDfxTwtDfGYWi3cA-6xj3R-7Mv__1CoHCJT7nLtysODVmjfW0Nod_7Ng5VPXYAt0ft5iPWhB6vR69S-KnrxoChnY&code=4%2F0AVMBsJj-ktzJpUzMTXIkUr-XfjESYUY0M4UdmM2hdrk3hMm9BMTI9z45hBE5R3EjdgU9kQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR2:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.756 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE5U49H3IR2:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.756 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 722.3979 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR2:00000002","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.756 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdo3QaAkIkKQb6-Qiz0hthZhh8X9QpxNgZetmhBQtoLMDY6rfmSbp_tx_G1vc8bhlmg56oOeKf3ZvdJess5MLAda_SS2P75SDeAuWVD6sv0-kSu1nqtJLeWIEKTYyeWz9aFIQGQJwSzWJ_5i9f6m4WulX7Icrlm4NR1wgoqm_kWK9Ztovk0R_GUPaThFunghYzqmg6h35m9cgyOgoMyaVfMgkcfCt02_cIva0bFP4P6oDfxTwtDfGYWi3cA-6xj3R-7Mv__1CoHCJT7nLtysODVmjfW0Nod_7Ng5VPXYAt0ft5iPWhB6vR69S-KnrxoChnY&code=4%2F0AVMBsJj-ktzJpUzMTXIkUr-XfjESYUY0M4UdmM2hdrk3hMm9BMTI9z45hBE5R3EjdgU9kQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - 302 0 null 723.1959ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR2:00000002","RequestPath":"/signin-google","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.760 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.761 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.766 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"dde2685f-b2a2-44a6-99c6-921212e75715","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.771 +05:30 INF] ExpenseTrackingSystem.Controllers.OAuthController: Google login successful for email: vaishalraj47@gmail.com {"ActionId":"dde2685f-b2a2-44a6-99c6-921212e75715","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.773 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"dde2685f-b2a2-44a6-99c6-921212e75715","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.775 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"dde2685f-b2a2-44a6-99c6-921212e75715","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.776 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47%40gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoiQW5hbHlzZXIiLCJuYmYiOjE3NTI4Mzk2MDMsImV4cCI6MTc1NDEzNTYwMywiaWF0IjoxNzUyODM5NjAzfQ.IJv3BuR1XLhAAG7S1hWpxUxjmgdC-hqBd2ZzL8qC3bE&refreshToken=fK2YWZncQnPQ8j3vw38e2BkPPxszJv0bwt8q%2FWhdUAQ%3D&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"dde2685f-b2a2-44a6-99c6-921212e75715","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.776 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 10.342ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.776 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.776 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 15.5804 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR2:00000003","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.777 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 16.7723ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR2:00000003","RequestPath":"/auth/google-response","ConnectionId":"0HNE5U49H3IR2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1044 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR3:00000001","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2070 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR1:00000003","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.5978ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.4111ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.911 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.911 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.913 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.912 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.914 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.914 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.915 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.915 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.918 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.918 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.918 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.918 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.922 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.922 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.928 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.928 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.929 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.929 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.929 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.931 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.934 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.934 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.935 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.935 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 22.891ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 21.6455ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 25.7783 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR3:00000002","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.937 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 24.8086 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR1:00000004","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.938 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 26.4786ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:23.938 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 26.4919ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.942 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.942 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.942 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3941 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR3:00000003","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.943 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.4403ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.947 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.948 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.949 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.949 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.952 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.952 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.952 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.953 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3566 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR1:00000005","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.953 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.1582ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.952 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.957 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.957 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.958 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.958 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.961 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.961 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.984 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.984 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.984 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.984 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.984 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.985 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.990 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.990 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.990 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.990 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"8d6c22e0-3c94-48c2-8961-a64150e3d2f5","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.992 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.0947ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.992 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cd5cf037-1384-4373-9cc0-19017b7942a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.992 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.993 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 43.0486ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.993 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.993 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 35.6364 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR1:00000006","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.993 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 45.0396 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR3:00000004","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.994 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 36.7265ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR1:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5U49H3IR1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:30.994 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 46.3094ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.529 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.530 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.530 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.2270 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR3:00000005","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7532ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.532 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59 {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.533 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.534 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.534 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.537 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user admin1@gmail.com from IP ::1 {"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.538 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user admin1@gmail.com {"RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.594 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (54ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.948 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.949 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user admin1@gmail.com with role Admin, token expires: "2025-07-25T11:53:52.9460660+00:00" {"RemoteIP":"::1","ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.949 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user admin1@gmail.com from IP ::1 {"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.949 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"03ab47ea-3ac3-4027-aec9-1c098a1315a1","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.950 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 415.0222ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.950 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.950 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 417.5807 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":59,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR3:00000006","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:52.951 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 418.5491ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.028 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000007","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.029 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000007","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.029 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.4085 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR3:00000007","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.030 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 1.2664ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000007","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.034 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.035 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.036 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.037 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.037 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin admin1@gmail.com from IP ::1 {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.040 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.041 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 2 users from repository {"AdminUser":"admin1@gmail.com","ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.041 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 2 users for admin admin1@gmail.com {"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.041 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"80bcc70e-579e-4abe-9448-3009dc256549","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.042 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 4.8238ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.042 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.042 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 7.5480 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5U49H3IR3:00000008","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:23:53.042 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 8.2724ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR3:00000008","RequestPath":"/api/users/all","ConnectionId":"0HNE5U49H3IR3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:35:05.377 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE5U49H3IR4:00000001","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5U49H3IR4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:35:05.589 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 210.2723 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5U49H3IR4:00000001","ConnectionId":"0HNE5U49H3IR4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-18 17:35:05.589 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.7266ms {"EventId":{"Id":2},"RequestId":"0HNE5U49H3IR4:00000001","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5U49H3IR4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
