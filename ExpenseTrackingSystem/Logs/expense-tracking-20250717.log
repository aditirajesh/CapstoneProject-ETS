[2025-07-17 12:59:46.029 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:46.191 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:46.334 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:46.338 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:46.339 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:46.339 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:58.935 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE50EU2DE57:00000001","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:59.265 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 284.7083 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50EU2DE57:00000001","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 12:59:59.271 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 337.7424ms {"EventId":{"Id":2},"RequestId":"0HNE50EU2DE57:00000001","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.829 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.836 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.838 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.918 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.923 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.923 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/email-summary responded 401 in 90.9575 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50EU2DE57:00000002","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:00:50.925 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - 401 0 null 95.8268ms {"EventId":{"Id":2},"RequestId":"0HNE50EU2DE57:00000002","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50EU2DE57","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:47.938 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:48.014 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:48.109 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:48.111 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:48.111 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:48.112 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:49.979 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE50FV5JPFL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.162 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 128.1588 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50FV5JPFL:00000001","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.182 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 206.9017ms {"EventId":{"Id":2},"RequestId":"0HNE50FV5JPFL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.265 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE50FV5JPFL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.514 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 247.0578 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50FV5JPFL:00000002","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.514 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 250.5702ms {"EventId":{"Id":2},"RequestId":"0HNE50FV5JPFL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.586 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE50FV5JPFL:00000003","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.591 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 4.7151 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50FV5JPFL:00000003","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.593 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 6.2808ms {"EventId":{"Id":2},"RequestId":"0HNE50FV5JPFL:00000003","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.715 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE50FV5JPFL:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.762 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 45.9062 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50FV5JPFL:00000004","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:01:50.763 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.5552ms {"EventId":{"Id":2},"RequestId":"0HNE50FV5JPFL:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:09.624 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:09.636 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:09.639 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:09.711 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:09.744 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EmailSummaryReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EmailSummaryReport(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e46ebf98-64f8-4745-a695-8d8d8b6299d0","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.315 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Creating storage directory: /Users/aditirajesh/Desktop/CapstoneProject-ETS/Receipts {"ActionId":"e46ebf98-64f8-4745-a695-8d8d8b6299d0","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.322 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem) in 572.8402ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.323 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.324 +05:30 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/email-summary responded 500 in 693.7625 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50FV5JPFL:00000005","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.326 +05:30 ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:02:10.349 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - 500 null text/plain; charset=utf-8 724.7136ms {"EventId":{"Id":2},"RequestId":"0HNE50FV5JPFL:00000005","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50FV5JPFL","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.689 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.795 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.914 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.917 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.918 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:28.919 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:47.955 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:48.031 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:48.144 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:48.146 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:48.147 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:05:48.147 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.168 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.329 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 117.3475 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI1:00000001","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.345 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 180.0115ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.442 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.675 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 230.7098 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI1:00000002","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:06:19.676 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.9879ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:12.828 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/users/register - application/json 117 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:12.833 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:12.835 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:12.886 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:12.910 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] Register(ExpenseTrackingSystem.Models.DTOs.UserAddRequestDto) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:13.062 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Creating storage directory: /Users/vaishal/Desktop/CapstoneProject-ETS/Receipts {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:13.096 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User registration attempt for username vaishalraj47@gmail.com with role user from IP ::1 {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:13.115 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Starting user creation for username vaishalraj47@gmail.com with role user {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:14.636 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"vaishalraj47@gmail.com","Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.222 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (86ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.369 +05:30 WRN] ExpenseTrackingSystem.Services.UserService: Failed to create user vaishalraj47@gmail.com - username already taken {"Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.370 +05:30 WRN] ExpenseTrackingSystem.Controllers.UserController: Registration failed for vaishalraj47@gmail.com - duplicate username: Username already taken {"Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.378 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.385 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem) in 2469.1361ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.386 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.388 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/users/register responded 400 in 2557.8849 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":117,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI1:00000003","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:07:15.403 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/users/register - 400 null text/plain; charset=utf-8 2575.2364ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI1:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.431 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/users/register - application/json 117 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.434 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.436 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.436 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] Register(ExpenseTrackingSystem.Models.DTOs.UserAddRequestDto) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.454 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User registration attempt for username vaishalraj47@gmail.com with role user from IP ::1 {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.454 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Starting user creation for username vaishalraj47@gmail.com with role user {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.542 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:54.998 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = DateTime), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Username", "CreatedAt", "CreatedBy", "IsDeleted", "Password", "Phone", "RefreshToken", "RefreshTokenExpiryTime", "Role", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.067 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","Role":"user","ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.068 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully created new user vaishalraj47@gmail.com with role user {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.069 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User registration successful for vaishalraj47@gmail.com with role user from IP ::1 {"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Scope":["UserRegistration for vaishalraj47@gmail.com with role user"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.069 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2c40e922-0b5a-45f2-ab94-285506b87bd1","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.096 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem) in 658.3968ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.097 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.097 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/users/register responded 200 in 663.1787 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":117,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI1:00000004","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:08:55.098 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/users/register - 200 null application/json; charset=utf-8 667.0591ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI1:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE50IFCRCI1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.826 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.827 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.828 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 1.7294 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000001","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.828 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.7756ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 65 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.835 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.841 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.851 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.854 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:07.943 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.156 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.159 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role user, token expires: "2025-07-24T07:41:08.1421450+00:00" {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.160 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.162 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.164 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 323.1802ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.164 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.165 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 333.2300 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":65,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000002","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.165 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 334.822ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.185 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.185 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1547 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI3:00000001","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2551 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000003","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.8102ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.186 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.9514ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI3:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.189 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.189 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.192 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.192 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.258 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.258 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.265 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.265 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.279 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.279 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.285 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.285 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.293 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.302 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.306 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.310 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.320 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.342 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.342 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.343 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.393 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.393 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.415 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 0 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.415 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 0 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.416 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.416 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.416 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.416 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.417 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.418 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.420 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 expenses returned {"Limit":3,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.420 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.422 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 156.778ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.422 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.423 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 231.7248 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI3:00000002","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.424 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 235.6011ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.425 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 160.0483ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.425 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.426 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 234.1706 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:00000004","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:08.426 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 237.4215ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.063 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.063 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.063 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.2225 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000005","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.064 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.3101ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.066 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.069 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.072 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.077 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.083 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user null (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.086 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.092 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.094 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 0 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 0) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.094 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.094 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 0 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.095 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 0 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.095 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.096 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 18.3491ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.096 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.096 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 27.5462 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:00000006","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:11:13.096 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 30.2209ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.349 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000007","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.350 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000007","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.350 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/add responded 204 in 0.1967 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000007","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.351 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - 204 null null 1.7173ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000007","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.352 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryLme1Yy68SjoWKXpi 352 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.352 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.353 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.362 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.388 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.405 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 42.0059ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.405 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 400 in 52.4400 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":352,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:00000008","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:11.405 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 400 null application/problem+json; charset=utf-8 52.8705ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000008","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.396 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000009","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.396 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000009","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.396 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/add responded 204 in 0.1263 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:00000009","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.397 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - 204 null null 0.5145ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000009","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.397 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundarysEnw4sxxNZPcZiC0 470 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.398 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.398 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.398 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.404 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user vaishalraj47@gmail.com for target null with amount 10000, category Food & Dining, and expense date current {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.409 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user vaishalraj47@gmail.com with amount 10000, category Food & Dining, and expense date null {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.412 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":10000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.414 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-17T07:42:32.4138800+00:00" for expense by user vaishalraj47@gmail.com {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":10000,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.466 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":10000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.470 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":10000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.473 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":10000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.473 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" for user vaishalraj47@gmail.com with amount 10000 on date "2025-07-17T07:42:32.4138800+00:00" {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.475 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" for user vaishalraj47@gmail.com with amount 10000 on date 2025-07-17 by vaishalraj47@gmail.com {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 10000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.475 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.480 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 81.4593ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.480 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.480 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 82.5029 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":470,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:0000000A","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.480 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 82.954ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000A","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.484 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.484 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.484 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.2246 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:0000000B","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.485 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 0.5894ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.486 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.487 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.487 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.487 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.488 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user null (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.488 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.491 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.556 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 1 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.557 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.557 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 1 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.557 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.558 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 1 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.558 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.559 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 71.0247ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.559 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.559 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 72.4146 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:0000000C","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:12:32.559 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 73.1664ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.846 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.846 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.847 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/add responded 204 in 0.2920 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:0000000D","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.847 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - 204 null null 0.7177ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.848 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryVXF6Wt9fMA0PgCHh 467 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.848 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.849 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.849 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user vaishalraj47@gmail.com for target null with amount 5000, category Shopping, and expense date current {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.850 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user vaishalraj47@gmail.com with amount 5000, category Shopping, and expense date null {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.861 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":5000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.864 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-17T07:43:38.8643950+00:00" for expense by user vaishalraj47@gmail.com {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":5000,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.870 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":5000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.873 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":5000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.876 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Amount":5000,"ExpenseDate":null,"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.876 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01981756-c370-770c-a856-f7749a406f0e" for user vaishalraj47@gmail.com with amount 5000 on date "2025-07-17T07:43:38.8643950+00:00" {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.877 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01981756-c370-770c-a856-f7749a406f0e" for user vaishalraj47@gmail.com with amount 5000 on date 2025-07-17 by vaishalraj47@gmail.com {"CurrentUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Scope":["AddExpense by vaishalraj47@gmail.com for vaishalraj47@gmail.com amount 5000 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.877 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e6e5d7c7-b301-4ab6-aa52-256d6f7b5fec","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.877 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 28.2546ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.878 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.878 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 29.8232 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":467,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:0000000E","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 30.7048ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000E","RequestPath":"/api/expenses/add","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.883 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.883 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.884 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.2725 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI2:0000000F","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.885 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.733ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.886 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.887 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.887 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.888 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.888 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user null (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.888 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.891 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.894 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 2 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 2) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.894 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.894 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 2 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.894 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981756-c370-770c-a856-f7749a406f0e" 'general groceries': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.894 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.895 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 2 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.895 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.895 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 7.4592ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.895 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.896 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 8.7087 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI2:00000010","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:13:38.896 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 9.4592ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI2:00000010","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.284 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI4:00000001","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.285 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI4:00000001","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.286 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE50IFCRCI4:00000001","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.307 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE50IFCRCI4:00000001","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.307 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/email-summary responded 401 in 21.8314 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI4:00000001","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:14:27.308 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - 401 0 null 23.0166ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI4:00000001","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.688 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 74 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.688 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.689 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.689 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.691 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.691 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.694 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.863 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.864 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role user, token expires: "2025-07-24T07:45:03.8624620+00:00" {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.864 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.864 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.864 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 175.0472ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.864 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.865 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 176.0163 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":74,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI4:00000002","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:03.865 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 176.7978ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI4:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.003 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.003 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.003 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.007 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "EmailSummaryReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EmailSummaryReport(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.030 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 50 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.033 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.038 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.038 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.038 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=28/05/2025 1:15:23 PM +05:30-17/07/2025 1:15:23 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.040 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.042 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.042 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.046 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":50,"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 50 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.067 +05:30 ERR] ExpenseTrackingSystem.Services.EmailService: Failed to send email to vaishalraj47@gmail.com {"ActionId":"16ab9471-6b67-44b1-8bbe-c1884a481494","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.069 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem) in 61.8585ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.070 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.EmailSummaryReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.071 +05:30 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/email-summary responded 500 in 67.9583 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI4:00000003","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.071 +05:30 ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:15:23.088 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/email-summary - 500 null text/plain; charset=utf-8 85.8757ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI4:00000003","RequestPath":"/api/Reports/email-summary","ConnectionId":"0HNE50IFCRCI4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:20:34.774 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/Reports/admin/user-summary/vaishalraj47@gmail.com?lastNDays=30 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI5:00000001","RequestPath":"/api/Reports/admin/user-summary/vaishalraj47@gmail.com","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:20:34.778 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE50IFCRCI5:00000001","RequestPath":"/api/Reports/admin/user-summary/vaishalraj47@gmail.com","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:20:34.782 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden. {"EventId":{"Id":13,"Name":"AuthenticationSchemeForbidden"},"RequestId":"0HNE50IFCRCI5:00000001","RequestPath":"/api/Reports/admin/user-summary/vaishalraj47@gmail.com","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:20:34.783 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/Reports/admin/user-summary/vaishalraj47@gmail.com responded 403 in 6.6717 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI5:00000001","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:20:34.807 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/Reports/admin/user-summary/vaishalraj47@gmail.com?lastNDays=30 - 403 0 null 33.2848ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI5:00000001","RequestPath":"/api/Reports/admin/user-summary/vaishalraj47@gmail.com","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.124 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-login - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.126 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.131 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleLogin", controller = "OAuth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GoogleLogin() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2d2ad87d-33e4-410a-aaef-b388e818c464","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.171 +05:30 INF] Microsoft.AspNetCore.Mvc.ChallengeResult: Executing ChallengeResult with authentication schemes (["Google"]). {"EventId":{"Id":1,"Name":"ChallengeResultExecuting"},"ActionId":"2d2ad87d-33e4-410a-aaef-b388e818c464","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.189 +05:30 INF] Microsoft.AspNetCore.Authentication.Google.GoogleHandler: AuthenticationScheme: Google was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"ActionId":"2d2ad87d-33e4-410a-aaef-b388e818c464","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.190 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem) in 58.2541ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.190 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleLogin (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.190 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-login responded 302 in 65.6369 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI5:00000002","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.190 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-login - 302 0 null 66.4607ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI5:00000002","RequestPath":"/auth/google-login","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:26.729 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdo1VixnIdatQc3u2E5WD9xYgEWf8D_52uihAQOIRWA-_TnIfd4Ums1ubYbRYcrrr49zE8AB1UcyCehKgMbClTOVK8fzNeS8A-rBBkIbu97eF4EvyKVBctbiEvVjHGEUidZIJqUHM30jrHLvC62pZaeDcEQ2b5EqbznoNdI3oqcYmYno6mLP9PAKCxtHkUrHx_x9_J72_lmxt_t7urc6usAJtyF-c0P1oykPzrIJ5OoI9a36Vax-ksNklSsu0eYuDaRw_SwzxAFVxCoqPhc5l04Qt3cha-jQAVuum8yQokl2ow&code=4%2F0AVMBsJhHMc48MEULMYyqoC4TClB29EdIBdqvouuRubyk7TkA64tVlQ4LXwu3VGKmKLHzYQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI5:00000003","RequestPath":"/signin-google","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.493 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed in. {"EventId":{"Id":10,"Name":"AuthenticationSchemeSignedIn"},"RequestId":"0HNE50IFCRCI5:00000003","RequestPath":"/signin-google","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.493 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /signin-google responded 302 in 763.9641 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI5:00000003","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/signin-google?state=CfDJ8PZwFpJU2i9FkEHP0E67vdo1VixnIdatQc3u2E5WD9xYgEWf8D_52uihAQOIRWA-_TnIfd4Ums1ubYbRYcrrr49zE8AB1UcyCehKgMbClTOVK8fzNeS8A-rBBkIbu97eF4EvyKVBctbiEvVjHGEUidZIJqUHM30jrHLvC62pZaeDcEQ2b5EqbznoNdI3oqcYmYno6mLP9PAKCxtHkUrHx_x9_J72_lmxt_t7urc6usAJtyF-c0P1oykPzrIJ5OoI9a36Vax-ksNklSsu0eYuDaRw_SwzxAFVxCoqPhc5l04Qt3cha-jQAVuum8yQokl2ow&code=4%2F0AVMBsJhHMc48MEULMYyqoC4TClB29EdIBdqvouuRubyk7TkA64tVlQ4LXwu3VGKmKLHzYQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none - 302 0 null 764.501ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI5:00000003","RequestPath":"/signin-google","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.497 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/auth/google-response - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.498 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.502 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GoogleResponse", controller = "OAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleResponse() on controller ExpenseTrackingSystem.Controllers.OAuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3c78f56c-9f8e-4f98-bd6c-f4bb412d4c7d","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.556 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"3c78f56c-9f8e-4f98-bd6c-f4bb412d4c7d","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.560 +05:30 INF] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler: AuthenticationScheme: Cookies signed out. {"EventId":{"Id":11,"Name":"AuthenticationSchemeSignedOut"},"ActionId":"3c78f56c-9f8e-4f98-bd6c-f4bb412d4c7d","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.561 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor: Executing RedirectResult, redirecting to http://localhost:4200/oauth-callback?username=vaishalraj47@gmail.com&accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6InZhaXNoYWxyYWo0N0BnbWFpbC5jb20iLCJyb2xlIjoidXNlciIsIm5iZiI6MTc1MjczODY4NywiZXhwIjoxNzU0MDM0Njg3LCJpYXQiOjE3NTI3Mzg2ODd9.jQUa316Cynv4zT6poQcoVs1X3F7_EzxfZ5YFMmF1uMo&refreshToken=uoXS6yCuEepS76j9JQj51IlCGZv6ZDsB6oJfGuN51EE=&picture=https%3A%2F%2Flh3.googleusercontent.com%2Fa%2FACg8ocJwzk44E16bfT7TkrGOWVq3s3VlVbFHK0lfiX_ge6nBTpytBnst%3Ds96-c&expiry=2. {"EventId":{"Id":1,"Name":"RedirectResultExecuting"},"ActionId":"3c78f56c-9f8e-4f98-bd6c-f4bb412d4c7d","ActionName":"ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.561 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem) in 59.6138ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.561 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.OAuthController.GoogleResponse (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.561 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /auth/google-response responded 302 in 63.4709 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI5:00000004","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:21:27.562 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/auth/google-response - 302 0 null 64.6345ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI5:00000004","RequestPath":"/auth/google-response","ConnectionId":"0HNE50IFCRCI5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.392 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=vaishalraj47%40gmail.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.394 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.394 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.395 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user vaishalraj47@gmail.com (Page: 1, Size: 10) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.395 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 10) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.399 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 2 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 2) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 2 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981756-c370-770c-a856-f7749a406f0e" 'general groceries': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.401 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 2 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.419 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.424 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 30.1539ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.424 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.430 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 32.0587 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI6:00000001","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:25:16.431 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=vaishalraj47%40gmail.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 38.4494ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI6:00000001","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.977 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.978 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.979 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 1.1368 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000001","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.980 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.6803ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.982 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 65 {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.982 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.983 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.983 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.985 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:28.985 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.012 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.197 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.197 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role user, token expires: "2025-07-24T07:58:29.1918320+00:00" {"RemoteIP":"::1","ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.197 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.197 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1fba8824-d4f2-463d-a78f-ea3f32edbb5d","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.197 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 214.5642ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.198 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.198 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 215.6058 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":65,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000002","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.198 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 216.1695ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.218 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.218 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.219 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.219 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.219 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2079 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI8:00000001","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.219 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2494 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000003","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.219 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.5851ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.220 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.0854ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.222 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.223 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.225 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.225 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.225 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.225 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.227 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.227 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.227 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.227 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.233 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.241 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.241 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.241 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.246 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.247 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.248 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.253 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.256 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.258 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.258 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.258 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.259 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.260 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.262 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.262 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 37.1746ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.262 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.263 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.263 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 40.3175 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI8:00000002","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.263 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 40.8173ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.263 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.267 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.268 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.268 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.270 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 44.8738ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.270 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.270 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 48.0569 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:00000004","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:29.271 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 48.7348ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3474 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000005","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.399 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1699 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI9:00000001","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.399 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.5231ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.399 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.7646ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.398 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1407 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI8:00000003","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.399 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.4567ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.401 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.401 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.403 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.404 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.404 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.404 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.405 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.405 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.405 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.405 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.409 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.410 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.413 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.416 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.419 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.425 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.425 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.425 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.454 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.454 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.455 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.455 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.455 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.455 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.455 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.456 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 51.2549ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.456 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.456 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 52.8183 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI8:00000004","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.456 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 53.6891ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.457 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.457 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.457 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.459 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.459 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 56.435ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.460 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 59.4816 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:00000006","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.461 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 59.9002ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.461 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.461 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.462 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.463 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.463 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.464 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.467 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.467 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.467 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 75.0515ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.499 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.499 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 96.1622 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI9:00000002","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:28:32.499 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 96.6847ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.399 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.400 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.400 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1285 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI8:00000005","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.3055 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000007","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.3574ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.4480 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI9:00000003","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 204 null null 1.9508ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.401 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.8719ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.404 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.405 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" with limit 10 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" grouped by month {"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.406 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.409 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.409 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.410 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.412 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.412 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.412 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.412 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.413 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.413 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.416 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.416 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.416 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 categories found {"StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 time periods found {"GroupBy":"month","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.417 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 12.4652ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 12.5847ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 13.5703 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI8:00000006","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 13.6536 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI9:00000004","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 13.9826ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.418 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 14.0946ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 expenses returned {"Limit":10,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 16.2584ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.421 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.422 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 17.7622 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:00000008","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:11.422 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 18.0786ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1794 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI8:00000007","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3256 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:00000009","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.5671ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.317 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2406 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI9:00000005","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.318 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 204 null null 0.7906ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.318 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.6897ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.321 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.321 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.321 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.321 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.322 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.323 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.327 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.327 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.327 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.330 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.334 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.334 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.335 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 13.4213ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 13.7061ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 13.9448ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 14.5551 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI8:00000008","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 15.0916 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI9:00000006","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.336 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.337 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 15.5981ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.337 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 15.5057 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:0000000A","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.337 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 14.9825ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:17.338 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 16.5591ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.055 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.055 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.055 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.1711 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:0000000B","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.056 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 0.7197ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.059 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.060 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.060 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.061 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by vaishalraj47@gmail.com for user null (Page: 1, Size: 100) {"TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.062 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user vaishalraj47@gmail.com (Page: 1, Size: 100) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.065 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.066 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 2 expenses for user vaishalraj47@gmail.com on page 1 (Total user expenses: 2) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.066 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.066 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user vaishalraj47@gmail.com: 2 {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.066 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981756-c370-770c-a856-f7749a406f0e" 'general groceries': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.066 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01981755-bfe1-7ac9-a3e1-2c55724bb375" 'Team lunch': HasReceipt=false, ReceiptId=null {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","PageNumber":1,"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.067 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 2 expenses for user vaishalraj47@gmail.com (Page 1) {"Requester":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Scope":["GetAllExpenses by vaishalraj47@gmail.com for vaishalraj47@gmail.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.067 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"76556889-5655-41b3-914d-264c03c70fa3","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.067 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 7.1973ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.067 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.067 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 8.8237 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:0000000C","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:51.068 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 9.613ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1743 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI7:0000000D","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.5052ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1649 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI9:00000007","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.655 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.656 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.4797ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.656 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1330 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE50IFCRCI8:00000009","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.656 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.6666ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.659 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.660 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.661 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.662 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.664 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.664 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.666 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.667 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.667 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.667 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.667 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.667 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.669 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.669 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.670 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a77f2b24-ad84-4e3e-9b7f-66a252d50449","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"37f4f072-6be2-4a26-be85-50689f6f38a3","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 10.1973ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 10.1602ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 11.4263 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI8:0000000A","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 11.2136 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI7:0000000E","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 11.6891ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI7:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE50IFCRCI7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.671 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 11.7987ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE50IFCRCI8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.681 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.683 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.683 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.683 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ffbcfcf5-b113-4cb1-bcf4-456f6dd58d47","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.685 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 25.5538ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.686 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.686 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 26.6355 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE50IFCRCI9:00000008","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 13:30:54.686 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 27.0062ms {"EventId":{"Id":2},"RequestId":"0HNE50IFCRCI9:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE50IFCRCI9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:29.901 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:30.023 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:30.163 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:30.168 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:30.168 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:30.168 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.225 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE51VEIA06F:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.379 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 114.0584 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE51VEIA06F:00000001","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.396 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 173.0353ms {"EventId":{"Id":2},"RequestId":"0HNE51VEIA06F:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE51VEIA06F:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.881 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 220.2645 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE51VEIA06F:00000002","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:26:48.882 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.0835ms {"EventId":{"Id":2},"RequestId":"0HNE51VEIA06F:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:15.810 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 74 {"EventId":{"Id":1},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:15.819 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:15.820 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:15.950 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:15.982 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:16.201 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:16.207 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:17.544 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:17.905 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (74ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.753 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.763 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role user, token expires: "2025-07-24T08:57:18.6195720+00:00" {"RemoteIP":"::1","ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.765 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f0390788-336c-4fb2-88b2-6a2536c89285","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.783 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 2794.9835ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.784 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.788 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 2975.4192 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":74,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE51VEIA06F:00000003","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:18.797 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 2987.1928ms {"EventId":{"Id":2},"RequestId":"0HNE51VEIA06F:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.114 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.118 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.191 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.200 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.224 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.260 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.361 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.366 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.368 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 2:27:51 PM +05:30-17/07/2025 2:27:51 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.445 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.478 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.480 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.516 +05:30 ERR] ExpenseTrackingSystem.Services.EmailService: Failed to send email to vaishalraj47@gmail.com {"ActionId":"4740cdca-391e-42a5-8944-5c2f952d29ca","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.519 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 319.0064ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.519 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.520 +05:30 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/send-summary-email responded 500 in 403.8350 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE51VEIA06F:00000004","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.521 +05:30 ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:27:51.539 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - 500 null text/plain; charset=utf-8 425.8461ms {"EventId":{"Id":2},"RequestId":"0HNE51VEIA06F:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE51VEIA06F","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.659 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.776 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.915 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.919 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.920 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:34:05.920 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:02.838 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE5241V9923:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:02.987 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 110.1070 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5241V9923:00000001","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:03.003 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 167.6271ms {"EventId":{"Id":2},"RequestId":"0HNE5241V9923:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:03.221 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE5241V9923:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:03.442 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 219.3871 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5241V9923:00000002","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:03.443 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.9639ms {"EventId":{"Id":2},"RequestId":"0HNE5241V9923:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.414 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 74 {"EventId":{"Id":1},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.424 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.426 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.496 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.526 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.764 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:35.769 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:37.339 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:37.763 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (79ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.585 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.596 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role user, token expires: "2025-07-24T09:05:38.4614250+00:00" {"RemoteIP":"::1","ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.597 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.605 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f9887fa3-5fd8-4e07-b08c-0cd28a8634a4","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.615 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 3083.915ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.616 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.619 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 3202.3726 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":74,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5241V9923:00000003","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:35:38.628 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 3213.2987ms {"EventId":{"Id":2},"RequestId":"0HNE5241V9923:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:16.944 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:16.947 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.034 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.042 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.063 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.101 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.216 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.220 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.221 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 2:36:17 PM +05:30-17/07/2025 2:36:17 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.311 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.343 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.344 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:17.352 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.958 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.961 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"bc14f604-f74a-48fa-b285-cf8c7227fd34","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.962 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4915.7505ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.962 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.963 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/send-summary-email responded 200 in 5012.9627 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5241V9923:00000004","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 14:36:21.964 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - 200 null text/plain; charset=utf-8 5017.5745ms {"EventId":{"Id":2},"RequestId":"0HNE5241V9923:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5241V9923","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.239 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.345 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.462 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.464 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.464 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:32.465 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.226 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 124.4336 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE53R3UJLQ9:00000001","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.249 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 193.974ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.512 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.781 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 267.6470 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE53R3UJLQ9:00000002","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:13:35.782 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 271.6582ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:22.709 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/users/register - application/json 102 {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:22.714 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:22.728 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:22.795 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:22.821 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] Register(ExpenseTrackingSystem.Models.DTOs.UserAddRequestDto) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:23.038 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:23.071 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem) in 245.0099ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:23.071 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:23.072 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/users/register responded 400 in 360.8331 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":102,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE53R3UJLQ9:00000003","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:14:23.074 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/users/register - 400 null application/problem+json; charset=utf-8 365.7157ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000003","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.682 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/users/register - application/json 112 {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.686 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.688 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.689 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] Register(ExpenseTrackingSystem.Models.DTOs.UserAddRequestDto) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.722 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User registration attempt for username admin1@gmail.com with role Admin from IP ::1 {"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:32.727 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Starting user creation for username admin1@gmail.com with role Admin {"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:34.032 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"admin1@gmail.com","Role":"Admin","ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:34.394 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (73ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","Role":"Admin","ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.100 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = DateTime), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Username", "CreatedAt", "CreatedBy", "IsDeleted", "Password", "Phone", "RefreshToken", "RefreshTokenExpiryTime", "Role", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","Role":"Admin","ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.177 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","Role":"Admin","ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.178 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully created new user admin1@gmail.com with role Admin {"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.179 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User registration successful for admin1@gmail.com with role Admin from IP ::1 {"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Scope":["UserRegistration for admin1@gmail.com with role Admin"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.184 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a3239994-cd4f-42e4-b75d-e32d90bb3ae0","ActionName":"ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem) in 2518.9541ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.209 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.Register (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.212 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/users/register responded 200 in 2526.1194 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":112,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE53R3UJLQ9:00000004","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:15:35.220 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/users/register - 200 null application/json; charset=utf-8 2537.9189ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000004","RequestPath":"/api/users/register","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:39.984 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 68 {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:39.985 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:39.988 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:39.994 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.005 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user admin1@gmail.com from IP ::1 {"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.007 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user admin1@gmail.com {"RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.031 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.487 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"admin1@gmail.com","RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.489 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user admin1@gmail.com with role Admin, token expires: "2025-07-24T10:46:40.4741460+00:00" {"RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1","UserLogin for admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.490 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user admin1@gmail.com from IP ::1 {"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Scope":["LoginRequest for admin1@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.490 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.491 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 497.1749ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.492 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.492 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 507.9923 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":68,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE53R3UJLQ9:00000005","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:16:40.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 509.469ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.390 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all - null null {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.463 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.467 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.474 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin admin1@gmail.com from IP ::1 {"ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.575 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"admin1@gmail.com","ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.577 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 2 users from repository {"AdminUser":"admin1@gmail.com","ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.577 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 2 users for admin admin1@gmail.com {"ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Scope":["GetAllUsers by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.578 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"9e953fa2-d688-4bdd-9213-2c1a3900d4ce","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.579 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 111.4759ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.579 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.579 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 189.0214 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE53R3UJLQ9:00000006","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:16.580 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all - 200 null application/json; charset=utf-8 189.8226ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.454 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/users/vaishalraj47@gmail.com/assign-analyser - null 0 {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.455 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.459 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.478 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AssignAnalyserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignAnalyserRole(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.486 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Received analyser role assignment request from admin1@gmail.com for user vaishalraj47@gmail.com {"ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.488 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Admin admin1@gmail.com is assigning Analyser role to user vaishalraj47@gmail.com {"ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Scope":["AssignAnalyserRole: vaishalraj47@gmail.com by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.492 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","AssignedBy":"admin1@gmail.com","ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Scope":["AssignAnalyserRole: vaishalraj47@gmail.com by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.577 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","AssignedBy":"admin1@gmail.com","ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Scope":["AssignAnalyserRole: vaishalraj47@gmail.com by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.581 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","AssignedBy":"admin1@gmail.com","ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Scope":["AssignAnalyserRole: vaishalraj47@gmail.com by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.581 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully assigned Analyser role to vaishalraj47@gmail.com by admin1@gmail.com {"ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Scope":["AssignAnalyserRole: vaishalraj47@gmail.com by admin1@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.582 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"05f824e9-684a-4eb8-af7e-440ae5906614","ActionName":"ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.588 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem) in 110.1561ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.589 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.AssignAnalyserRole (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.589 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/users/vaishalraj47@gmail.com/assign-analyser responded 200 in 133.7424 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE53R3UJLQ9:00000007","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:17:28.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/users/vaishalraj47@gmail.com/assign-analyser - 200 null application/json; charset=utf-8 136.1833ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQ9:00000007","RequestPath":"/api/users/vaishalraj47@gmail.com/assign-analyser","ConnectionId":"0HNE53R3UJLQ9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.228 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 74 {"EventId":{"Id":1},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.229 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.230 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.230 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.232 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.233 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.256 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.545 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.545 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role Analyser, token expires: "2025-07-24T10:56:45.5407730+00:00" {"RemoteIP":"::1","ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.545 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0457e26f-bf9f-419f-b548-dd07052cfae8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 315.6161ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.546 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.546 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 316.8355 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":74,"ResponseSize":0,"UserName":"admin1@gmail.com","IsAuthenticated":true,"RequestId":"0HNE53R3UJLQA:00000001","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 16:26:45.547 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 318.9952ms {"EventId":{"Id":2},"RequestId":"0HNE53R3UJLQA:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE53R3UJLQA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.481 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.641 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/vaishal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.777 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.779 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.779 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:41.779 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/vaishal/Desktop/Aditi_Project/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.678 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.717 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE5B6FFKIJN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.719 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.719 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.733 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 23.7253 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJO:00000001","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.733 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 23.7308 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJN:00000001","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.759 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 81.8068ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJN:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.759 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 81.807ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.765 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.765 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.775 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.775 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.910 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.910 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.929 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:46.929 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:47.145 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:47.145 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:47.150 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:47.150 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.185 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.572 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (74ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.572 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (74ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.972 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.972 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.989 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.989 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.992 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:48.992 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.069 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.069 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.097 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.097 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.098 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.098 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.102 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.106 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.106 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.108 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.116 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.116 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.163 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 2229.1843ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.163 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 2233.6341ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.164 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.164 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.167 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 2396.8311 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJO:00000002","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.167 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 2396.8460 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJN:00000002","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.180 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 2415.8221ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJN:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:14:49.180 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 2415.8088ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.524 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.526 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.527 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.9447 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJO:00000003","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.9043ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 65 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.532 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.544 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.552 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.590 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.593 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:40.713 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.196 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.199 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role Analyser, token expires: "2025-07-24T17:46:41.1737350+00:00" {"RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.202 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.204 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.207 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 654.2575ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.207 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.209 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 677.4526 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":65,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJO:00000004","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.210 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 680.1206ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.259 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.260 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.261 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.0874 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJO:00000005","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.262 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.6282ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.264 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.272 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.274 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 9.0488 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJN:00000003","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.276 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 11.4014ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJN:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.278 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.290 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.291 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.300 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.305 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.305 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.305 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.305 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.312 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.312 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.312 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.313 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.471 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (155ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.487 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (171ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.525 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.525 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.527 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.527 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.528 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.528 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.537 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.539 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.539 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.540 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.541 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.541 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.541 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.541 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.542 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 236.2611ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.542 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.542 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.543 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 242.8064 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJN:00000004","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.543 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.544 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 252.5385ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJN:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.544 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 240.7ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.547 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.548 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 266.6163 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJO:00000006","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:16:41.548 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 270.5045ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJO:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.022 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.026 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.026 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3054 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJP:00000001","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.027 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 4.7743ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJP:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.033 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.034 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.034 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.034 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.034 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2299 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJQ:00000001","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.035 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.5976ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJQ:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.037 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.043 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.045 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.047 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.047 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.050 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.051 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.052 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.053 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.055 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.073 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.107 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.108 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.109 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.119 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (53ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.124 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.126 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.126 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.126 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.126 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.127 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.127 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 75.4335ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.127 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.128 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 77.1898 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJQ:00000002","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.128 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 80.7822ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJQ:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.136 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.137 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.138 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.141 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.141 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.141 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.142 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.142 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.143 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.143 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 99.7368ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.143 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.143 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 109.5701 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJP:00000002","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:19:44.143 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 110.0551ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJP:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJR:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.532 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJR:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.532 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2383 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJR:00000001","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.532 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.7907ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJR:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.534 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.534 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.537 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.537 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.537 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.537 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.537 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2772 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJS:00000001","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.538 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.7751ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJS:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.539 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.539 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.542 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.543 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.544 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.544 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.545 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.546 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.653 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.658 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.658 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.658 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.658 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.659 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 122.5654ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 125.4398 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJR:00000002","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 115.3695ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 126.0465ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJR:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 117.7982 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJS:00000002","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:22:07.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 118.2509ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJS:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJT:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJU:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJT:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJU:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.4529 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJV:00000001","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5596 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJT:00000001","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.592 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.375ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.591 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.3789 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIJU:00000001","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.592 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.5516ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJT:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.594 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 3.4717ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJU:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.595 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.595 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.595 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.596 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.597 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.599 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.599 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.599 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.599 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.599 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.610 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.613 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.616 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.624 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.633 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.633 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.633 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.636 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.637 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.637 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.637 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.637 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 41.4913ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 42.7673 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJT:00000002","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 43.2142ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJT:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIJT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.638 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.639 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.642 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.642 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.643 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.644 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.644 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.644 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.646 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.647 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.647 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.647 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 50.2321ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.647 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.647 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 52.0476 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJU:00000002","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.648 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 53.0428ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIJU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.654 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.655 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.655 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 50.4023ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.661 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.661 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 65.1549 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIJV:00000002","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:14.661 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 65.7718ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIJV:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIJV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.737 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK0:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.739 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK0:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.739 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 1.5328 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK0:00000001","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.741 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 3.9529ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK0:00000001","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.744 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.744 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.745 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.750 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.762 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.765 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.770 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.770 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.770 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:27:57 PM +05:30-17/07/2025 11:27:57 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.772 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.772 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.773 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:27:57.776 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.236 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.238 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.238 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4488.0937ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.238 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.239 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4494.5845 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK0:00000002","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:02.239 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4495.2676ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK0:00000002","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.595 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK0:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.596 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK0:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.596 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5302 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK0:00000003","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.598 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 204 null null 2.8926ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK0:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.602 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.603 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.605 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK1:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.605 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.605 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK1:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.605 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.605 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.3361 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK1:00000001","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.606 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.5716ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK1:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.610 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.610 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.611 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.612 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.612 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.613 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.614 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.8538 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK2:00000001","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.615 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.615 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 2.6058ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.615 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.618 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.618 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.619 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.622 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.624 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.625 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.626 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.626 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.627 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.627 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.635 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.635 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.635 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.635 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.635 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.636 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.638 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.642 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.642 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.643 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.644 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 29.3875ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 33.4348 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK1:00000002","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 39.3912ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 34.3645ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK1:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.645 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.646 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 42.7539 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK0:00000004","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.650 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 46.2588ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK0:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.656 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.657 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.657 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.658 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.658 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.5926ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.659 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.659 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 37.1986 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK2:00000002","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:28:14.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 40.054ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.477 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.478 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.481 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.8149 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:00000001","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.481 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.8176ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.484 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.484 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.487 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.487 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.488 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.488 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.499 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.500 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.500 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8199 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:00000001","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.501 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 1.2871ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.504 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.505 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.505 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.506 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.506 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.507 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.521 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (29ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.521 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.535 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.535 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.535 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.536 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.537 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.537 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.553 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.553 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.553 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 48.4241ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.554 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.555 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 49.8876 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:00000002","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.555 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 67.565ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.555 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 50.3069ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.555 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.555 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 70.7270 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:00000002","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:22.558 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 74.3723ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.729 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.729 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.730 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5555 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:00000003","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.732 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 3.5789ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.734 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.734 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.735 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.736 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.738 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.738 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.742 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.742 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.742 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1241 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:00000003","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.742 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.4736ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.745 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.747 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.748 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.748 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.748 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.748 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK5:00000001","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.748 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.1339ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.749 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.749 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.751 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.751 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.751 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.751 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.751 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.752 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.754 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.754 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.758 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.758 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.758 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.760 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.760 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.767 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.767 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.767 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.769 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.769 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.772 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.772 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.772 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.772 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.772 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.773 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.774 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.8963ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.774 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.774 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.775 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 40.2773 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:00000004","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.775 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 41.286ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.775 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.775 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.776 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.776 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 27.9243ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 29.1833 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:00000004","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.777 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 29.7277ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.778 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.778 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.779 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.779 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.779 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.780 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 28.219ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.780 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.781 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 29.8486 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK5:00000002","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:25.781 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 30.714ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.331 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.332 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.332 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3619 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK5:00000003","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.333 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 204 null null 0.843ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.335 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.335 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.341 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.341 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.341 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.341 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.341 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1827 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:00000005","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.342 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.789ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.348 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.348 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.351 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.351 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.351 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.351 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.352 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2926 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:00000005","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.352 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.6669ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.353 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.353 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.356 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.356 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.356 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.359 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.359 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.360 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.361 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.361 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.372 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.373 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.426 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.426 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.427 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.427 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.427 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.427 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.432 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.432 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.433 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.433 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.433 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.433 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 categories found {"StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.434 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 93.4299ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 74.4927ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 99.7148 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK5:00000004","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 76.7616 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:00000006","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 100.3413ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.435 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 79.0909ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.442 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (82ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.449 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.450 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.450 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.454 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.454 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.455 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.455 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.455 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.457 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.458 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 104.5445ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.458 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.458 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 107.1952 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:00000006","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:36.459 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 107.7277ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.143 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000007","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.143 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000007","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.144 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1530 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:00000007","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.144 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.4385ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000007","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.146 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 48 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.146 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.147 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.147 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.149 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 7 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.152 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.155 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.155 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.155 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 11:31:40 PM +05:30-17/07/2025 11:31:40 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.158 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.158 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.158 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:40.158 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.305 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.306 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.307 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4159.2906ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.307 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.307 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4160.8067 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":48,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:00000008","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:31:44.308 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4161.4312ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000008","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.719 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.719 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.719 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2252 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:00000009","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.720 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.7536ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.720 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.722 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.723 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 2.1466 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK5:00000005","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.723 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.0883ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.725 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.727 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.727 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.728 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.730 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.737 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.738 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.738 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.739 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.739 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.739 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.746 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.746 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.755 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.761 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.761 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 24.2348ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 25.4228 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK5:00000006","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 25.8508ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.763 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 35.7576ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.764 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.764 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 38.5013 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:0000000A","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:07.764 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 39.4335ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.758 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.758 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.758 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.758 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2449 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:0000000B","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.758 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.753ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1919 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK5:00000007","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3531 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:00000007","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.602ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.759 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.6617ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.761 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.761 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.762 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.763 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.763 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.766 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.766 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.767 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.769 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.770 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.772 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 10.4648ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 11.1431ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 12.6769 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:0000000C","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 11.5129 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:00000008","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.774 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 13.8904ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.773 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.775 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 13.2844ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.775 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 12.6117ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.775 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.776 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 13.5853 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK5:00000008","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:10.776 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 13.9317ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.926 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.927 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.927 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1105 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK5:00000009","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.927 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 204 null null 0.5149ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.930 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.931 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.931 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.931 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.932 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1069 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK4:0000000D","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.932 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.932 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.4167ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.933 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.934 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.937 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.937 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.937 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.937 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.937 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1121 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:00000009","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.938 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.3521ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.938 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.940 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.941 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.942 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.943 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.944 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.944 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.945 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-07-10T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.945 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.960 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.960 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.962 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 categories found {"StartDate":"2025-07-10T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/10/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.967 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.0527ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 39.2602 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK5:0000000A","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 27.791ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.968 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-10&endDate=2025-07-17&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 39.6824ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK5:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.969 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.969 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 32.0465 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK4:0000000E","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.970 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-10&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 32.9361ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK4:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.975 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.976 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.976 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.977 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.977 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.977 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.978 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.0632ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.978 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.978 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 34.9187 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:0000000A","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:32:51.978 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-10&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 35.3799ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.929 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:0000000B","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.930 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:0000000B","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.930 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1116 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK3:0000000B","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.930 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.8328ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:0000000B","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.933 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 48 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.934 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.936 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.937 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.938 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 7 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.941 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.944 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.944 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.944 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=10/07/2025 11:33:06 PM +05:30-17/07/2025 11:33:06 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.946 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.946 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.946 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:06.946 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":7,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 7 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.586 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.586 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3645.5317ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.587 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.587 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3648.9052 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":48,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK3:0000000C","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:33:10.587 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3649.8319ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK3:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.203 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.287 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 83.2356 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK6:00000001","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.288 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 84.2124ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.626 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK6:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.851 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 224.0490 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK6:00000002","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:28.851 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.394ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK6:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.642 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 74 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.643 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.644 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.644 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.646 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.646 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user vaishalraj47@gmail.com {"RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.648 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.970 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"vaishalraj47@gmail.com","RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.970 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user vaishalraj47@gmail.com with role Analyser, token expires: "2025-07-24T18:04:53.9667730+00:00" {"RemoteIP":"::1","ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1","UserLogin for vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.970 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user vaishalraj47@gmail.com from IP ::1 {"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Scope":["LoginRequest for vaishalraj47@gmail.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.971 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"148d78bc-7975-4fcf-b673-f77948d80c70","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.972 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 327.5669ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.972 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.972 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 329.3615 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":74,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK6:00000003","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:34:53.972 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 330.4328ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK6:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.071 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.072 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.074 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.074 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.075 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.079 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.086 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.086 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.086 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:35:26 PM +05:30-17/07/2025 11:35:26 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.089 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.071 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.071 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.072 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3997.3455ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.072 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.072 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/Reports/send-summary-email responded 200 in 3999.8385 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK6:00000004","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:35:30.072 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/Reports/send-summary-email - 200 null text/plain; charset=utf-8 4000.6268ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK6:00000004","RequestPath":"/api/Reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.365 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.366 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.367 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2649 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000001","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.367 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 204 null null 1.6863ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.374 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.375 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.376 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.377 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.377 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.378 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.9649 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000001","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.378 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.378 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 2.0475ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.381 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.382 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.386 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.386 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.386 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.386 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.386 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1311 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000001","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.387 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.4986ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.387 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.389 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.390 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.390 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.390 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.390 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.391 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.391 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.392 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.393 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.393 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.395 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.396 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.396 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.396 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.397 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.399 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.399 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.399 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.399 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.400 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.400 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.400 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 21.9473ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.400 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 25.3663 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000002","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 27.3317ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.401 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.405 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.405 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.406 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.406 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.407 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.407 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.407 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.407 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.408 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.408 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.408 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.408 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.409 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 19.8631ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.410 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.410 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 24.0285 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000002","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.410 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 18.3645ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.411 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.412 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 21.3394 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000002","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.411 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 24.6929ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:18.412 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 22.1394ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.929 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.929 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.929 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1508 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000003","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.929 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.503ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000003","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.932 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.932 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.932 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.932 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.933 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.937 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.940 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.940 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.940 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:36:20 PM +05:30-17/07/2025 11:36:20 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.943 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.944 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.944 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:20.944 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.447 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.448 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.448 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3515.1281ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.448 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.448 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3516.1253 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000004","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:36:24.448 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3516.6123ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000004","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.199 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.202 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.202 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2921 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000005","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.202 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.7681ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.211 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.211 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.211 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1730 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000003","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.211 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.4784ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.224 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.224 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.225 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.230 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.231 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.232 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.232 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.233 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.233 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.234 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.234 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.239 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.239 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.259 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.259 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.259 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.261 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.261 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.265 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.272 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.273 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.273 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.274 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.275 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.275 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.276 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 42.5267ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.276 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.276 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.276 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 44.2487 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000006","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.277 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.277 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.277 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.277 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.281 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.282 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 52.7561ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.288 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.296 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 72.8523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000004","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.297 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 74.861ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:26.279 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 47.886ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.353 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000005","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.353 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000005","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.353 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/vaishalraj47@gmail.com responded 204 in 0.1509 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000005","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.354 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/vaishalraj47@gmail.com - 204 null null 0.6223ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000005","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.356 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.359 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.360 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.365 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.369 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for vaishalraj47@gmail.com by vaishalraj47@gmail.com from IP ::1 {"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.373 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"vaishalraj47@gmail.com","RequestingUser":"vaishalraj47@gmail.com","ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.373 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user vaishalraj47@gmail.com for vaishalraj47@gmail.com {"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Scope":["GetUser vaishalraj47@gmail.com by vaishalraj47@gmail.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.374 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"8ef6e2f4-285c-4625-a544-494abe7773b6","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.389 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 24.642ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.390 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.390 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/vaishalraj47@gmail.com responded 200 in 31.1260 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000006","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:27.390 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 34.1746ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000006","RequestPath":"/api/users/get/vaishalraj47@gmail.com","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.176 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.177 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.177 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1888 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000007","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.177 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.0273ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.180 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.203 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.204 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.204 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.205 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.205 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.205 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.205 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.206 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1463 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000003","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.208 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 3.076ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.205 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1200 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000007","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.209 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.209 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 5.2362ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.209 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.222 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.222 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.223 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.223 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.225 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.225 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.225 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.225 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.226 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.227 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.231 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.231 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.231 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.233 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.233 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.233 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.235 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.235 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.235 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.235 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.236 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.236 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.240 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.240 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.240 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 16.997ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.7382ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 38.9386 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000008","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 19.9643 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000008","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.243 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 20.7701ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.242 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 62.6799ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 18.2887ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.245 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.245 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 23.1159 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000004","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:35.245 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 23.62ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.920 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-18&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.921 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.921 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1834 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000005","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.921 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-18&endDate=2025-07-17&username=vaishalraj47@gmail.com - 204 null null 0.6487ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.923 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-18&endDate=2025-07-17&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.923 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.924 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.927 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.927 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-18&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.928 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.928 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1716 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000009","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-18&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.588ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.930 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-04-18T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.934 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.935 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-18&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.935 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-18&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.936 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.936 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.938 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.6787 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:0000000A","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.939 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-18&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 204 null null 3.9735ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.939 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.939 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.944 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-04-18T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.944 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.944 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-18&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.945 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.945 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.945 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.946 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-04-18T00:00:00.0000000" to "2025-07-17T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.947 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.949 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.951 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.951 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.954 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.956 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.956 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/04/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/04/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.957 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=18/04/2025 12:00:00 AM +05:30-17/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.963 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.964 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.964 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.965 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.965 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.965 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.966 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.966 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.966 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 categories found {"StartDate":"2025-04-18T00:00:00.0000000","EndDate":"2025-07-17T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 04/18/2025 00:00:00 to 07/17/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.966 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 23.7634ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 39.6029ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 31.0127 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000009","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.967 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 44.0351 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000006","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.968 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-18&endDate=2025-07-17&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 32.9281ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.968 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-18&endDate=2025-07-17&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 44.4261ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.973 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.974 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.975 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.976 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.977 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 0 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.978 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.978 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 32.6538ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.978 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.979 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 34.0680 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:0000000B","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:46.979 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-18&endDate=2025-07-17&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 35.1409ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.637 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.637 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.637 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1664 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:0000000C","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.637 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 204 null null 0.4725ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.639 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.639 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.640 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.640 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.643 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.643 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.644 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.644 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.644 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.3039 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000007","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.644 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.0144ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.648 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.648 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.648 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.648 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.649 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.7425 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:0000000A","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.649 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.122ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.650 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.650 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.651 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.652 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.653 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.653 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.654 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.654 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.654 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.655 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.655 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.657 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.657 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.658 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.658 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.658 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.659 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.659 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.660 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.660 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.660 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.660 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.660 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.661 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=30/06/2025 12:00:00 AM +05:30-30/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.661 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.661 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.662 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 21.2036ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.662 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.662 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 22.7857 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:0000000D","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.662 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 23.1005ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.664 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.664 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.665 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.666 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.666 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 16.2445ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 18.9092 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000008","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 19.5278ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.667 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.668 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.669 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.669 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.670 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.670 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 15.939ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.670 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.670 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 17.4405 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:0000000B","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:47.671 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 17.8999ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.105 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.105 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.106 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1421 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:0000000C","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.106 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.5506ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000C","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.110 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.111 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.111 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.113 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.117 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.123 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.128 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.128 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.128 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:37:49 PM +05:30-17/07/2025 11:37:49 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.132 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.132 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.132 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:49.132 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.818 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.819 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.819 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3705.5502ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.819 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.819 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3708.3895 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:0000000D","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:37:52.819 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3709.618ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000D","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.526 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.526 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1638 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:0000000E","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.528 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.2292ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.557 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.558 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.558 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.558 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2454 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000009","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.559 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.8885ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.558 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.565 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.565 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.566 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.567 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.569 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.569 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.570 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.570 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.570 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.571 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.600 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.604 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.607 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.607 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.607 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.610 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.611 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.612 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.613 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 47.2668ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.613 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.613 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 55.4401 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:0000000F","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.614 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 56.0427ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.620 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.621 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.621 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.621 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.621 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.621 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.622 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 51.5508ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.622 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.622 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 52.5033 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:0000000A","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:03.622 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 53.3305ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.000 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.000 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.000 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1375 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:0000000B","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.000 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.9063ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.3607 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000010","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.6783ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.006 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.011 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.011 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.014 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.014 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.016 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.019 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.022 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.023 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.024 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.039 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (23ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.040 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.054 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.054 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.055 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.055 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.055 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.055 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.061 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.061 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.061 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.062 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.061 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.062 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.062 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.063 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.062 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.063 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.064 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.064 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 51.2875ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.064 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.063 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.066 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 42.2521ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.066 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.069 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 52.6313 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000011","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.070 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 53.2658ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.065 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 58.6707 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:0000000C","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:11.076 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 69.8651ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.072 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.073 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.073 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.3135 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:0000000D","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.074 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.777ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.078 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.079 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.079 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.079 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.079 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.2387 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000012","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.081 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.081 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 2.8389ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.082 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.087 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.088 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.090 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.091 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.093 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.093 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.096 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.097 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.097 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.097 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.097 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1901 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:0000000E","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.097 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.2592ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.101 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.102 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.104 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.104 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.106 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.106 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.110 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.111 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.120 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.120 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.120 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.122 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.122 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.122 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.127 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.127 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.128 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.128 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.128 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.129 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.135 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.130 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.136 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.136 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 43.8082ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 54.0915ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 46.2565 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000013","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.137 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 46.838ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000013","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.138 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 59.3745 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:0000000E","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.138 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 59.9896ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.165 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.170 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.170 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.170 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.173 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.174 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.174 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.175 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.175 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.175 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.175 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 71.1142ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.175 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.176 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 73.6576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:0000000F","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:13.176 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 74.6219ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.112 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000010","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.112 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000010","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.112 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1860 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000010","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.112 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.6376ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000010","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.115 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 28 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.115 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.115 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.116 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.117 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.120 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.123 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.123 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.123 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:39:21 PM +05:30-17/07/2025 11:39:21 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.124 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.125 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.125 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.125 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.126 +05:30 ERR] ExpenseTrackingSystem.Services.EmailService: Failed to send email to a {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.127 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 11.6193ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.128 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.128 +05:30 ERR] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 500 in 13.3806 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":28,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000011","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.129 +05:30 ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:21.161 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 500 null text/plain; charset=utf-8 46.0418ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000011","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2339 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000012","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 0.5889ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.640 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.641 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1263 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:0000000F","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.641 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.3593ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.657 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.657 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.659 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.659 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.661 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.667 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.668 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.668 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.668 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.689 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.694 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.694 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.695 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.695 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.702 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.702 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.703 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.703 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.705 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.705 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.707 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.709 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.709 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.711 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 42.8943ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.711 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.711 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 54.1929 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000010","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.712 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 54.9194ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.718 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 59.4062ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.719 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 60.6691 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000013","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:39.720 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 61.0743ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000013","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.914 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000014","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.914 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000014","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.914 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.1969 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000014","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.915 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.9979ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000014","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.921 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.921 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.922 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.922 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.924 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:42.925 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.042 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.042 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000014","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.042 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.042 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000014","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.043 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.2913 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000011","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.043 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2879 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000014","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.043 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.0127ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.043 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 1.003ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000014","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.048 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.048 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.049 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.050 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.050 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.050 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.051 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.054 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.055 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.055 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.055 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.055 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.059 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.059 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.060 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.060 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.060 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.060 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.060 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 137.9918ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 139.8131 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000015","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.061 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 140.2757ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.065 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.066 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.066 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.067 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.067 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.067 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.068 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 18.0013ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.068 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.068 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 19.5937 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000015","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.068 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 20.2754ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000015","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.099 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.099 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.100 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.102 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.103 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.103 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.103 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.103 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.103 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.104 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 54.0083ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.104 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.104 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 55.2015 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000012","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:43.104 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 55.7433ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000013","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.816 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000013","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.816 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.1355 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000013","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.5246ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000013","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.819 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.819 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.820 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.820 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.823 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.826 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.830 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.830 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.830 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:39:49 PM +05:30-17/07/2025 11:39:49 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.832 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.833 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.833 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:49.833 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.241 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 3421.7873ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.242 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.242 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 3422.8455 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000014","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:39:53.242 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 3423.4609ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000014","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.741 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.745 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.746 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.1851 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000015","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.746 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 5.2849ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.746 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.746 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.746 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1073 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000016","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.747 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.3194ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.760 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.761 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.761 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.762 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.763 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.763 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.766 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.767 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.767 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.767 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.768 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.768 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.774 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.779 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.783 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.783 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.784 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.791 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.792 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.792 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.792 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 31.2415ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 32.4039 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000017","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.793 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 33.1929ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.799 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.799 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.800 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.804 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.805 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 37.2247ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.805 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.805 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 39.0072 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000016","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:09.808 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 41.7619ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.546 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.546 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.547 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2025 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK7:00000017","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.547 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 0.7188ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000017","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.549 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.550 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.551 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.552 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.552 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000018","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.553 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000018","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.553 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.4873 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK8:00000018","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.553 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.553 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 1.0457ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000018","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.554 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.558 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.558 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.559 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.559 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.561 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.561 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.563 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.564 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.564 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.2090 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000016","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.564 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.9771ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000016","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.567 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.567 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.567 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.568 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.568 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.569 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.569 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.570 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.576 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.576 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.576 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.577 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.577 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.577 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.577 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.585 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.586 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.586 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.586 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.586 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.586 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 34.9725ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 28.1646ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.587 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.588 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 38.0184 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK7:00000018","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.588 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.588 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 38.5296ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK7:00000018","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIK7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.588 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 29.5096 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK8:00000019","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.588 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 30.2936ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK8:00000019","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIK8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.604 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.605 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.605 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.605 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.605 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.606 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.606 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 38.317ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.607 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.607 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 39.6696 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000017","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:11.607 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 40.0311ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000017","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.853 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000018","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.855 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000018","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.856 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 2.5218 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIK9:00000018","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.856 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 2.8996ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000018","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.875 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.875 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.876 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.876 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.887 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.895 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.936 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.936 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.936 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:41:19 PM +05:30-17/07/2025 11:41:19 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.945 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.946 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.946 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:19.947 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.354 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.355 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.355 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4479.3991ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.355 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.356 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4480.2884 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIK9:00000019","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:41:24.356 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4480.7461ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIK9:00000019","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIK9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.888 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.892 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.892 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2120 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKA:00000001","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.892 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 4.328ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.896 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKB:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKB:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1169 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKB:00000001","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.897 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 0.3914ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKB:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.898 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.898 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.911 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.911 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.912 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.912 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.912 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.912 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:23.994 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.069 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (93ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.091 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.091 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.092 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.096 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.132 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.132 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.133 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.133 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.133 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.134 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 236.5494ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.137 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.137 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 240.3281 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKA:00000002","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.137 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 240.8051ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.169 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.169 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.169 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=01/07/2025 12:00:00 AM +05:30-31/07/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.174 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.174 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.174 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 3 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":3,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":3,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 263.4916ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.175 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 264.1878 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKB:00000002","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:24.176 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 264.518ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKB:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.236 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKB:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.237 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKB:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.237 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.2460 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKB:00000003","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.238 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 204 null null 1.2823ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKB:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.240 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.240 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.240 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.241 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.241 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.243 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.243 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.243 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.1076 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKA:00000003","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.243 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 204 null null 0.4606ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.246 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.246 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.246 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.246 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.247 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.247 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.247 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.250 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKC:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.250 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKC:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.251 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.1181 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKC:00000001","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.251 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 204 null null 0.4301ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKC:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.251 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.252 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.252 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.253 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.253 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.253 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.254 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.254 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by vaishalraj47@gmail.com for user vaishalraj47@gmail.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.255 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.255 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.256 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.257 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.257 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for category breakdown analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.257 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 2 categories for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"vaishalraj47@gmail.com","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.257 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Scope":["CategoryBreakdownReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.258 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"46128bea-5166-4da9-8c5d-e24b3cc4e80f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.258 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 16.9507ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.258 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.258 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 17.9214 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKB:00000004","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.258 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 18.2119ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKB:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE5B6FFKIKB","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.264 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.266 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.266 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.266 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.268 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses, selecting top 10 by amount {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 2 expenses for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","Limit":10,"CurrentUser":"vaishalraj47@gmail.com","ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10","TopExpenses for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 2 expenses returned {"Limit":10,"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Scope":["TopExpensesReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f3beeb83-c514-4d9a-a33c-5e75539e8554","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.269 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 15.7104ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.270 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.271 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 17.6211 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKC:00000002","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.271 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 18.45ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKC:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE5B6FFKIKC","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.280 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.280 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.280 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=31/12/2024 12:00:00 AM +05:30-30/12/2025 12:00:00 AM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.282 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.283 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.283 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for time-based analysis {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.283 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 1 time periods for user vaishalraj47@gmail.com {"RequestingUser":"vaishalraj47@gmail.com","GroupBy":"month","CurrentUser":"vaishalraj47@gmail.com","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month","TimeBasedReport for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.284 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user vaishalraj47@gmail.com by vaishalraj47@gmail.com - 1 time periods found {"GroupBy":"month","ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Scope":["TimeBasedReport by vaishalraj47@gmail.com for vaishalraj47@gmail.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.284 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"63346af8-e0b2-472b-9eba-ab32b8201433","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.284 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 37.6511ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.284 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.285 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 38.5653 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKA:00000004","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:26.285 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=vaishalraj47@gmail.com - 200 null application/json; charset=utf-8 39.018ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.386 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - null null {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.386 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.386 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/send-summary-email responded 204 in 0.0771 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE5B6FFKIKA:00000005","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.386 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/send-summary-email - 204 null null 0.4203ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000005","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.388 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - application/json 49 {"EventId":{"Id":1},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.388 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.389 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.389 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SendSummaryEmail", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendSummaryEmail(ExpenseTrackingSystem.Models.DTOs.EmailReportRequestDto) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.391 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting quick summary report generation for 30 days {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.394 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.397 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.397 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.397 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=17/06/2025 11:55:36 PM +05:30-17/07/2025 11:55:36 PM +05:30 {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.398 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.398 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 2 expenses out of 2 total {"RequestingUser":"vaishalraj47@gmail.com","TargetUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.399 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 2 expenses for user vaishalraj47@gmail.com in the specified date range {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:36.399 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated quick summary report for user vaishalraj47@gmail.com with 2 expenses totaling 15000 {"RequestingUser":"vaishalraj47@gmail.com","Days":30,"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Scope":["QuickSummary for vaishalraj47@gmail.com targeting vaishalraj47@gmail.com for 30 days"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.467 +05:30 INF] ExpenseTrackingSystem.Services.EmailService: Email sent to vaishalraj47@gmail.com {"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.467 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"006833e2-6f80-4418-b147-e85b706d4980","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)","RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.467 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem) in 4078.1291ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.467 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.SendSummaryEmail (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.468 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/reports/send-summary-email responded 200 in 4079.1514 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","RemoteIpAddress":"::1","RequestSize":49,"ResponseSize":0,"UserName":"vaishalraj47@gmail.com","IsAuthenticated":true,"RequestId":"0HNE5B6FFKIKA:00000006","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
[2025-07-17 23:55:40.468 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/reports/send-summary-email - 200 null text/plain; charset=utf-8 4079.5711ms {"EventId":{"Id":2},"RequestId":"0HNE5B6FFKIKA:00000006","RequestPath":"/api/reports/send-summary-email","ConnectionId":"0HNE5B6FFKIKA","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02FWH12MD6M-vaishal"}
